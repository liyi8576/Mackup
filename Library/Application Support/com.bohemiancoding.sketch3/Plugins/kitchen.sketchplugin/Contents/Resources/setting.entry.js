!function(e){function t(t){for(var r,i,c=t[0],l=t[1],u=t[2],p=0,f=[];p<c.length;p++)i=c[p],Object.prototype.hasOwnProperty.call(a,i)&&a[i]&&f.push(a[i][0]),a[i]=0;for(r in l)Object.prototype.hasOwnProperty.call(l,r)&&(e[r]=l[r]);for(s&&s(t);f.length;)f.shift()();return o.push.apply(o,u||[]),n()}function n(){for(var e,t=0;t<o.length;t++){for(var n=o[t],r=!0,c=1;c<n.length;c++){var l=n[c];0!==a[l]&&(r=!1)}r&&(o.splice(t--,1),e=i(i.s=n[0]))}return e}var r={},a={8:0},o=[];function i(t){if(r[t])return r[t].exports;var n=r[t]={i:t,l:!1,exports:{}};return e[t].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=e,i.c=r,i.d=function(e,t,n){i.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},i.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,t){if(1&t&&(e=i(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)i.d(n,r,function(t){return e[t]}.bind(null,r));return n},i.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return i.d(t,"a",t),t},i.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},i.p="";var c=window.webpackJsonp=window.webpackJsonp||[],l=c.push.bind(c);c.push=t,c=c.slice();for(var u=0;u<c.length;u++)t(c[u]);var s=l;o.push([662,0]),n()}({0:function(e,t){e.exports=React},267:function(e,t,n){e.exports={form:"_1wwEw7_2urWBuTGOp4sUqV",disabled:"_3TEZMKypJuLZN6Q8IV4ZkV",badge:"_1rE-IjMIX2e3WgGW4xt6HQ"}},662:function(e,t,n){e.exports=n(724)},724:function(e,t,n){"use strict";n.r(t);n(46);var r=n(18),a=(n(663),n(268)),o=n(29),i=n.n(o),c=(n(330),n(217)),l=(n(40),n(13)),u=n(9),s=n.n(u),p=n(10),f=n.n(p),d=n(3),h=n.n(d),g=n(11),w=n.n(g),v=n(12),y=n.n(v),b=n(6),m=n.n(b),k=n(2),O=n.n(k),S=(n(134),n(43)),E=(n(160),n(45)),j=n(0),D=n.n(j),_=n(8),C=n.n(_),P=n(47),x=n(93),I=n(14),U=(n(68),n(62)),M=n(267),L=n.n(M);function R(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?R(Object(n),!0).forEach((function(t){O()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):R(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=m()(e);if(t){var a=m()(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return y()(this,n)}}window.pluginCall=I.a;var V=E.a.Item,N=S.a.Group;window.showMessage=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"info",n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:3;console.log("showmesssssss");var r=null;switch(t){case"success":r=l.a.success;break;case"error":r=l.a.error;break;case"warning":r=l.a.warning;break;case"warn":r=l.a.warn;break;case"loading":r=l.a.loading;break;case"info":default:r=l.a.info}r("".concat(e),n)};var W=function(e){w()(n,e);var t=A(n);function n(e){var r;s()(this,n),r=t.call(this,e),O()(h()(r),"onError",(function(e){l.a.error(e)})),O()(h()(r),"onSave",(function(e){e.preventDefault(),window.pluginCall("saveSetting",[r.state])})),O()(h()(r),"onChangeLang",(function(e){r.setState({lang:e.target.value})})),O()(h()(r),"onChangeAutoShow",(function(e){r.setState({autoShow:e})})),O()(h()(r),"onChangeMode",(function(e){r.setState({isDev:!!e})})),O()(h()(r),"openURL",(function(e){e.preventDefault(),Object(I.a)("openUrlInBrowser",["https://www.yuque.com/yuque/help/kitchen-changelog"])})),O()(h()(r),"checkUpdateAndPopDialog",(function(e){e.preventDefault(),Object(I.a)("checkUpdateAndPopDialog")}));var a=e.autoShow,o=e.isDev;return a="true"===String(a)||"1"===String(a),o="true"===String(o)||"1"===String(o),r.state={lang:window.ks_lang,autoShow:a,isDev:o,updateInfo:{checking:!0}},r}return f()(n,[{key:"componentDidMount",value:function(){var e=this,t=this.state.updateInfo;x.a.addListener("error",this.onError),window.syncUpdateInfo=function(t){e.setState({updateInfo:t||{}})},this.setState({updateInfo:T(T({},t),{},{checking:!0})}),Object(I.a)("checkUpdate")}},{key:"componentWillUnmount",value:function(){x.a.removeListener("error",this.onError),window.syncUpdateInfo=void 0}},{key:"render",value:function(){var e={labelCol:{span:8},wrapperCol:{span:16}},t=this.props.pluginVersion,n=this.state,o=n.updateInfo,l=o.isUpdate,u=o.lastestVersion,s=o.checking,p=n.lang,f=n.autoShow,d=n.isDev;return D.a.createElement(E.a,{onSubmit:this.onSave,layout:"horizontal",className:L.a.form},D.a.createElement(V,i()({label:window.ks_i18n["Current version"]},e),"kitchen@",t,s?D.a.createElement("span",{style:{marginLeft:8}},"..."):D.a.createElement(c.a,{dot:l,className:L.a.styles},D.a.createElement("a",{onClick:this.checkUpdateAndPopDialog,style:{marginLeft:8}},l?"".concat(window.ks_i18n["New Update"],": ").concat(u):window.ks_i18n["Check Updates"]))),D.a.createElement(V,i()({label:window.ks_i18n.Language},e),D.a.createElement(N,{onChange:this.onChangeLang,value:p},D.a.createElement(S.a,{value:"zh_cn"},"中文"),D.a.createElement(S.a,{value:"en_us"},"English"))),D.a.createElement(V,i()({label:window.ks_i18n["Default display"]},e),D.a.createElement(a.a,{onChange:this.onChangeAutoShow,checked:f})),D.a.createElement(V,i()({label:window.ks_i18n["Developer mode"]},e),D.a.createElement(a.a,{onChange:this.onChangeMode,checked:d})),D.a.createElement(V,{style:{marginTop:32}},D.a.createElement(r.a,{type:"primary",htmlType:"submit",style:{width:"calc(50% - 8px)",marginRight:8}},window.ks_i18n.Save),D.a.createElement(r.a,{style:{width:"calc(50% - 8px)",marginLeft:8},onClick:function(){return window.pluginCall("hide")}},window.ks_i18n.Cancel)))}}]),n}(D.a.Component),q=Object(P.a)(W,"设置"),B=E.a.create({})(q);window.init=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isDev;(t="true"===String(t)||"1"===String(t))||Object(U.a)(),C.a.render(D.a.createElement(B,e),document.getElementById("kitchen-plugin-root"))}},8:function(e,t){e.exports=ReactDOM}});