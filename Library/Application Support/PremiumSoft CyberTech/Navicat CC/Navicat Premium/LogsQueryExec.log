[2019-05-15 14:04:51.758][MDP][596518][MYSQL][]
SHOW VARIABLES LIKE 'lower_case_%'

[2019-05-15 14:04:51.825][MDP][596518][MYSQL][]
SHOW VARIABLES LIKE 'sql_mode'

[2019-05-15 14:04:51.888][MDP][596518][MYSQL][]
SELECT SCHEMA_NAME, DEFAULT_CHARACTER_SET_NAME, DEFAULT_COLLATION_NAME FROM information_schema.SCHEMATA

[2019-05-15 14:04:55.082][MDP][596518][MYSQL][]
SELECT COUNT(*) FROM information_schema.TABLES WHERE TABLE_SCHEMA = 'mdp210' UNION SELECT COUNT(*) FROM information_schema.COLUMNS WHERE TABLE_SCHEMA = 'mdp210' UNION SELECT COUNT(*) FROM information_schema.ROUTINES WHERE ROUTINE_SCHEMA = 'mdp210'

[2019-05-15 14:04:55.161][MDP][596518][MYSQL][]
SELECT TABLE_SCHEMA, TABLE_NAME, TABLE_TYPE FROM information_schema.TABLES WHERE TABLE_SCHEMA = 'mdp210' ORDER BY TABLE_SCHEMA, TABLE_TYPE

[2019-05-15 14:04:55.229][MDP][596518][MYSQL][]
SELECT TABLE_SCHEMA, TABLE_NAME, COLUMN_NAME, COLUMN_TYPE FROM information_schema.COLUMNS WHERE TABLE_SCHEMA = 'mdp210' ORDER BY TABLE_SCHEMA, TABLE_NAME

[2019-05-15 14:04:55.468][MDP][596520][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-15 14:04:55.492][MDP][596518][MYSQL][]
SELECT DISTINCT ROUTINE_SCHEMA, ROUTINE_NAME, PARAMS.PARAMETER FROM information_schema.ROUTINES LEFT JOIN ( SELECT SPECIFIC_SCHEMA, SPECIFIC_NAME, GROUP_CONCAT(CONCAT(DATA_TYPE, ' ', PARAMETER_NAME) ORDER BY ORDINAL_POSITION SEPARATOR ', ') PARAMETER, ROUTINE_TYPE FROM information_schema.PARAMETERS GROUP BY SPECIFIC_SCHEMA, SPECIFIC_NAME, ROUTINE_TYPE ) PARAMS ON ROUTINES.ROUTINE_SCHEMA = PARAMS.SPECIFIC_SCHEMA AND ROUTINES.ROUTINE_NAME = PARAMS.SPECIFIC_NAME AND ROUTINES.ROUTINE_TYPE = PARAMS.ROUTINE_TYPE WHERE ROUTINE_SCHEMA = 'mdp210' ORDER BY ROUTINE_SCHEMA

[2019-05-15 14:04:55.871][MDP][596518][MYSQL][]
SHOW TABLE STATUS

[2019-05-15 14:05:02.277][MDP][596518][MYSQL][]
SELECT * FROM `mdp210`.`base_enum_dic` LIMIT 0,1000

[2019-05-15 14:05:02.404][MDP][596520][MYSQL][]
SHOW COLUMNS FROM `mdp210`.`base_enum_dic`

[2019-05-15 14:05:02.466][MDP][596518][MYSQL][]
SHOW TABLE STATUS LIKE 'base_enum_dic'

[2019-05-15 14:05:02.531][MDP][596518][MYSQL][]
SHOW CREATE TABLE `mdp210`.`base_enum_dic`

[2019-05-15 17:39:26.439][MDP][599304][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-15 17:39:26.671][MDP][599304][MYSQL][]
SHOW TABLE STATUS

[2019-05-15 17:39:29.868][MDP][599304][MYSQL][]
SELECT COUNT(*) FROM information_schema.TABLES WHERE TABLE_SCHEMA = 'mdp' UNION SELECT COUNT(*) FROM information_schema.COLUMNS WHERE TABLE_SCHEMA = 'mdp' UNION SELECT COUNT(*) FROM information_schema.ROUTINES WHERE ROUTINE_SCHEMA = 'mdp'

[2019-05-15 17:39:30.44][MDP][599304][MYSQL][]
SELECT TABLE_SCHEMA, TABLE_NAME, TABLE_TYPE FROM information_schema.TABLES WHERE TABLE_SCHEMA = 'mdp' ORDER BY TABLE_SCHEMA, TABLE_TYPE

[2019-05-15 17:39:30.586][MDP][599304][MYSQL][]
SELECT TABLE_SCHEMA, TABLE_NAME, COLUMN_NAME, COLUMN_TYPE FROM information_schema.COLUMNS WHERE TABLE_SCHEMA = 'mdp' ORDER BY TABLE_SCHEMA, TABLE_NAME

[2019-05-15 17:39:31.113][MDP][599306][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-15 17:39:31.144][MDP][599304][MYSQL][]
SELECT DISTINCT ROUTINE_SCHEMA, ROUTINE_NAME, PARAMS.PARAMETER FROM information_schema.ROUTINES LEFT JOIN ( SELECT SPECIFIC_SCHEMA, SPECIFIC_NAME, GROUP_CONCAT(CONCAT(DATA_TYPE, ' ', PARAMETER_NAME) ORDER BY ORDINAL_POSITION SEPARATOR ', ') PARAMETER, ROUTINE_TYPE FROM information_schema.PARAMETERS GROUP BY SPECIFIC_SCHEMA, SPECIFIC_NAME, ROUTINE_TYPE ) PARAMS ON ROUTINES.ROUTINE_SCHEMA = PARAMS.SPECIFIC_SCHEMA AND ROUTINES.ROUTINE_NAME = PARAMS.SPECIFIC_NAME AND ROUTINES.ROUTINE_TYPE = PARAMS.ROUTINE_TYPE WHERE ROUTINE_SCHEMA = 'mdp' ORDER BY ROUTINE_SCHEMA

[2019-05-15 17:39:31.395][MDP][599306][MYSQL][]
SHOW TABLE STATUS

[2019-05-15 17:39:35.341][MDP][599304][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-15 17:39:36.123][MDP][599304][MYSQL][]
SHOW TABLE STATUS

[2019-05-15 17:39:46.819][MDP][599304][MYSQL][]
SELECT * FROM `mdp210`.`mdp_apptopic_task` LIMIT 0,1000

[2019-05-15 17:39:52.462][MDP][599306][MYSQL][]
SHOW COLUMNS FROM `mdp210`.`mdp_apptopic_task`

[2019-05-15 17:39:52.58][MDP][599304][MYSQL][]
SHOW TABLE STATUS LIKE 'mdp_apptopic_task'

[2019-05-15 17:39:52.693][MDP][599304][MYSQL][]
SHOW CREATE TABLE `mdp210`.`mdp_apptopic_task`

[2019-05-15 17:41:21.75][MDP][599304][MYSQL][]
SELECT * FROM `mdp210`.`mdp_model_task` LIMIT 0,1000

[2019-05-15 17:41:28.979][MDP][599306][MYSQL][]
SHOW COLUMNS FROM `mdp210`.`mdp_model_task`

[2019-05-15 17:41:29.051][MDP][599304][MYSQL][]
SHOW TABLE STATUS LIKE 'mdp_model_task'

[2019-05-15 17:41:29.151][MDP][599304][MYSQL][]
SHOW CREATE TABLE `mdp210`.`mdp_model_task`

[2019-05-15 17:42:07.607][MDP][599304][MYSQL][]
SELECT * FROM `mdp210`.`mdp_ds` LIMIT 0,1000

[2019-05-15 17:42:09.416][MDP][599306][MYSQL][]
SHOW COLUMNS FROM `mdp210`.`mdp_ds`

[2019-05-15 17:42:09.54][MDP][599304][MYSQL][]
SHOW TABLE STATUS LIKE 'mdp_ds'

[2019-05-15 17:42:09.653][MDP][599304][MYSQL][]
SHOW CREATE TABLE `mdp210`.`mdp_ds`

[2019-05-15 17:42:53.123][MDP][599304][MYSQL][]
SELECT * FROM `mdp210`.`mdp_ds_field_task` LIMIT 0,1000

[2019-05-15 17:42:53.357][MDP][599306][MYSQL][]
SHOW COLUMNS FROM `mdp210`.`mdp_ds_field_task`

[2019-05-15 17:42:53.487][MDP][599304][MYSQL][]
SHOW TABLE STATUS LIKE 'mdp_ds_field_task'

[2019-05-15 17:42:53.65][MDP][599304][MYSQL][]
SHOW CREATE TABLE `mdp210`.`mdp_ds_field_task`

[2019-05-15 17:43:17.644][MDP][599304][MYSQL][]
SELECT * FROM `mdp210`.`mdp_ds_review_task` LIMIT 0,1000

[2019-05-15 17:43:17.991][MDP][599306][MYSQL][]
SHOW COLUMNS FROM `mdp210`.`mdp_ds_review_task`

[2019-05-15 17:43:18.111][MDP][599304][MYSQL][]
SHOW TABLE STATUS LIKE 'mdp_ds_review_task'

[2019-05-15 17:43:18.223][MDP][599304][MYSQL][]
SHOW CREATE TABLE `mdp210`.`mdp_ds_review_task`

[2019-05-16 14:19:02.233][MDP][613520][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-16 14:19:02.417][MDP][613520][MYSQL][]
SHOW TABLE STATUS

[2019-05-16 14:19:05.595][MDP][613520][MYSQL][]
SELECT COUNT(*) FROM information_schema.TABLES WHERE TABLE_SCHEMA = 'mdp210' UNION SELECT COUNT(*) FROM information_schema.COLUMNS WHERE TABLE_SCHEMA = 'mdp210' UNION SELECT COUNT(*) FROM information_schema.ROUTINES WHERE ROUTINE_SCHEMA = 'mdp210'

[2019-05-16 14:19:05.686][MDP][613520][MYSQL][]
SELECT TABLE_SCHEMA, TABLE_NAME, TABLE_TYPE FROM information_schema.TABLES WHERE TABLE_SCHEMA = 'mdp210' ORDER BY TABLE_SCHEMA, TABLE_TYPE

[2019-05-16 14:19:05.774][MDP][613520][MYSQL][]
SELECT TABLE_SCHEMA, TABLE_NAME, COLUMN_NAME, COLUMN_TYPE FROM information_schema.COLUMNS WHERE TABLE_SCHEMA = 'mdp210' ORDER BY TABLE_SCHEMA, TABLE_NAME

[2019-05-16 14:19:05.967][MDP][613522][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-16 14:19:06.451][MDP][613520][MYSQL][]
SELECT DISTINCT ROUTINE_SCHEMA, ROUTINE_NAME, PARAMS.PARAMETER FROM information_schema.ROUTINES LEFT JOIN ( SELECT SPECIFIC_SCHEMA, SPECIFIC_NAME, GROUP_CONCAT(CONCAT(DATA_TYPE, ' ', PARAMETER_NAME) ORDER BY ORDINAL_POSITION SEPARATOR ', ') PARAMETER, ROUTINE_TYPE FROM information_schema.PARAMETERS GROUP BY SPECIFIC_SCHEMA, SPECIFIC_NAME, ROUTINE_TYPE ) PARAMS ON ROUTINES.ROUTINE_SCHEMA = PARAMS.SPECIFIC_SCHEMA AND ROUTINES.ROUTINE_NAME = PARAMS.SPECIFIC_NAME AND ROUTINES.ROUTINE_TYPE = PARAMS.ROUTINE_TYPE WHERE ROUTINE_SCHEMA = 'mdp210' ORDER BY ROUTINE_SCHEMA

[2019-05-16 14:19:06.478][MDP][613522][MYSQL][]
SHOW TABLE STATUS

[2019-05-16 14:19:22.739][MDP][613520][MYSQL][]
SELECT * FROM `mdp210`.`ai_subject_res_permit` LIMIT 0,1000

[2019-05-16 14:19:22.864][MDP][613522][MYSQL][]
SHOW COLUMNS FROM `mdp210`.`ai_subject_res_permit`

[2019-05-16 14:19:22.921][MDP][613520][MYSQL][]
SHOW TABLE STATUS LIKE 'ai_subject_res_permit'

[2019-05-16 14:19:22.985][MDP][613520][MYSQL][]
SHOW CREATE TABLE `mdp210`.`ai_subject_res_permit`

[2019-05-16 14:19:29.825][MDP][613520][MYSQL][]
SHOW TABLE STATUS LIKE 'ai\_subject\_res\_permit'

[2019-05-16 14:19:29.943][MDP][613520][MYSQL][]
SHOW CREATE TABLE `ai_subject_res_permit` 

[2019-05-16 14:19:30.06][MDP][613520][MYSQL][]
SHOW FULL COLUMNS FROM `ai_subject_res_permit`

[2019-05-16 14:19:30.222][MDP][613520][MYSQL][]
SHOW INDEX FROM `ai_subject_res_permit`

[2019-05-16 14:19:30.354][MDP][613520][MYSQL][]
SELECT ACTION_ORDER, EVENT_OBJECT_TABLE, TRIGGER_NAME, EVENT_MANIPULATION, EVENT_OBJECT_TABLE, DEFINER, ACTION_STATEMENT, ACTION_TIMING FROM information_schema.triggers WHERE BINARY event_object_schema = 'mdp210' AND BINARY event_object_table = 'ai_subject_res_permit' ORDER BY event_object_table

[2019-05-16 14:19:30.502][MDP][613520][MYSQL][]
SELECT TABLE_NAME, PARTITION_NAME, SUBPARTITION_NAME, PARTITION_METHOD, SUBPARTITION_METHOD, PARTITION_EXPRESSION, SUBPARTITION_EXPRESSION, PARTITION_DESCRIPTION, PARTITION_COMMENT, NODEGROUP, TABLESPACE_NAME FROM information_schema.PARTITIONS WHERE NOT ISNULL(PARTITION_NAME) AND TABLE_SCHEMA LIKE 'mdp210' AND TABLE_NAME LIKE 'ai_subject_res_permit' ORDER BY TABLE_NAME, PARTITION_NAME, PARTITION_ORDINAL_POSITION, SUBPARTITION_ORDINAL_POSITION

[2019-05-16 14:19:30.625][MDP][613520][MYSQL][]
SHOW CHARACTER SET

[2019-05-16 14:19:30.774][MDP][613520][MYSQL][]
SHOW ENGINES

[2019-05-16 14:19:30.893][MDP][613520][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-16 14:19:31.065][MDP][613520][MYSQL][]
SELECT DISTINCT(TABLESPACE_NAME) AS TABLESPACE_NAME FROM information_schema.FILES WHERE NOT ISNULL(TABLESPACE_NAME) LIMIT 10000

[2019-05-16 14:19:31.204][MDP][613520][MYSQL][]
SHOW CHARACTER SET

[2019-05-16 14:19:31.321][MDP][613520][MYSQL][]
SHOW COLLATION

[2019-05-16 15:04:28.689][MDP][613520][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-16 15:04:28.827][MDP][613520][MYSQL][]
SHOW TABLE STATUS

[2019-05-16 15:04:42.088][MDP][613520][MYSQL][]
SELECT * FROM `mdp210`.`ai_open_service` LIMIT 0,1000

[2019-05-16 15:04:42.213][MDP][613522][MYSQL][]
SHOW COLUMNS FROM `mdp210`.`ai_open_service`

[2019-05-16 15:04:42.292][MDP][613520][MYSQL][]
SHOW TABLE STATUS LIKE 'ai_open_service'

[2019-05-16 15:04:42.365][MDP][613520][MYSQL][]
SHOW CREATE TABLE `mdp210`.`ai_open_service`

[2019-05-16 15:06:37.746][MDP][613520][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-16 15:06:37.887][MDP][613520][MYSQL][]
SHOW TABLE STATUS

[2019-05-16 15:06:39.387][MDP][613520][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-16 15:06:39.521][MDP][613520][MYSQL][]
SHOW TABLE STATUS

[2019-05-16 15:06:42.175][MDP][613520][MYSQL][]
SELECT * FROM `mdp`.`ai_open_service` LIMIT 0,1000

[2019-05-16 15:06:42.305][MDP][613522][MYSQL][]
SHOW COLUMNS FROM `mdp`.`ai_open_service`

[2019-05-16 15:06:42.369][MDP][613520][MYSQL][]
SHOW TABLE STATUS LIKE 'ai_open_service'

[2019-05-16 15:06:42.43][MDP][613520][MYSQL][]
SHOW CREATE TABLE `mdp`.`ai_open_service`

[2019-05-16 15:07:00.074][MDP][613520][MYSQL][]
INSERT INTO `mdp210`.`ai_open_service`(`SERVICE_ID`, `SERVICE_NAME`, `SERVICE_DESC`) VALUES ('notebook', '编码式建模服务', '编码式建模服务')

[2019-05-16 15:07:00.319][MDP][613520][MYSQL][]
SELECT * FROM `mdp210`.`ai_open_service` WHERE `SERVICE_ID` = 'notebook'

[2019-05-16 15:07:05.087][MDP][613520][MYSQL][]
UPDATE `mdp210`.`ai_open_service` SET `URL` = '10.13.6.101' WHERE `SERVICE_ID` = 'notebook'

[2019-05-16 15:07:05.169][MDP][613520][MYSQL][]
SELECT * FROM `mdp210`.`ai_open_service` WHERE `SERVICE_ID` = 'notebook'

[2019-05-16 15:07:37.911][MDP][613520][MYSQL][]
UPDATE `mdp210`.`ai_open_service` SET `PORT` = 9197 WHERE `SERVICE_ID` = 'notebook'

[2019-05-16 15:07:37.989][MDP][613520][MYSQL][]
SELECT * FROM `mdp210`.`ai_open_service` WHERE `SERVICE_ID` = 'notebook'

[2019-05-16 15:07:44.379][MDP][613520][MYSQL][]
UPDATE `mdp210`.`ai_open_service` SET `PROTOCOL` = 'http' WHERE `SERVICE_ID` = 'notebook'

[2019-05-16 15:07:44.443][MDP][613520][MYSQL][]
SELECT * FROM `mdp210`.`ai_open_service` WHERE `SERVICE_ID` = 'notebook'

[2019-05-16 15:07:53.085][MDP][613520][MYSQL][]
UPDATE `mdp210`.`ai_open_service` SET `BASE_PATH` = 'notebook' WHERE `SERVICE_ID` = 'notebook'

[2019-05-16 15:07:53.218][MDP][613520][MYSQL][]
SELECT * FROM `mdp210`.`ai_open_service` WHERE `SERVICE_ID` = 'notebook'

[2019-05-16 15:07:58.922][MDP][613520][MYSQL][]
UPDATE `mdp210`.`ai_open_service` SET `CONTEXT_PATH` = ' ' WHERE `SERVICE_ID` = 'notebook'

[2019-05-16 15:07:59.003][MDP][613520][MYSQL][]
SELECT * FROM `mdp210`.`ai_open_service` WHERE `SERVICE_ID` = 'notebook'

[2019-05-16 15:10:05.312][MDP][613520][MYSQL][]
UPDATE `mdp210`.`ai_open_service` SET `CREATE_BY` = 'ADMIN' WHERE `SERVICE_ID` = 'notebook'

[2019-05-16 15:10:05.378][MDP][613520][MYSQL][]
SELECT * FROM `mdp210`.`ai_open_service` WHERE `SERVICE_ID` = 'notebook'

[2019-05-16 15:13:14.44][MDP][613520][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-16 15:13:14.601][MDP][613520][MYSQL][]
SHOW TABLE STATUS

[2019-05-16 15:15:40.087][MDP][613520][MYSQL][]
SELECT * FROM `mdp210`.`ai_open_service` LIMIT 0,1000

[2019-05-16 15:15:40.216][MDP][613522][MYSQL][]
SHOW COLUMNS FROM `mdp210`.`ai_open_service`

[2019-05-16 15:15:40.282][MDP][613520][MYSQL][]
SHOW TABLE STATUS LIKE 'ai_open_service'

[2019-05-16 15:15:40.341][MDP][613520][MYSQL][]
SHOW CREATE TABLE `mdp210`.`ai_open_service`

[2019-05-16 15:15:42.072][MDP][613520][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-16 15:15:42.201][MDP][613520][MYSQL][]
SHOW TABLE STATUS

[2019-05-16 15:24:25.278][MDP][613520][MYSQL][]
UPDATE `mdp`.`ai_open_service` SET `SERVICE_NAME` = '编码式建模服务' WHERE `SERVICE_ID` = 'notebook'

[2019-05-16 15:24:25.336][MDP][613520][MYSQL][]
SELECT * FROM `mdp`.`ai_open_service` WHERE `SERVICE_ID` = 'notebook'

[2019-05-16 15:24:31.552][MDP][613520][MYSQL][]
UPDATE `mdp`.`ai_open_service` SET `SERVICE_DESC` = '编码式建模服务' WHERE `SERVICE_ID` = 'notebook'

[2019-05-16 15:24:31.616][MDP][613520][MYSQL][]
SELECT * FROM `mdp`.`ai_open_service` WHERE `SERVICE_ID` = 'notebook'

[2019-05-16 15:24:38.555][MDP][613520][MYSQL][]
UPDATE `mdp`.`ai_open_service` SET `URL` = '10.13.6.101' WHERE `SERVICE_ID` = 'notebook'

[2019-05-16 15:24:38.621][MDP][613520][MYSQL][]
SELECT * FROM `mdp`.`ai_open_service` WHERE `SERVICE_ID` = 'notebook'

[2019-05-16 15:24:44.857][MDP][613520][MYSQL][]
UPDATE `mdp`.`ai_open_service` SET `PORT` = 9197 WHERE `SERVICE_ID` = 'notebook'

[2019-05-16 15:24:44.942][MDP][613520][MYSQL][]
SELECT * FROM `mdp`.`ai_open_service` WHERE `SERVICE_ID` = 'notebook'

[2019-05-16 15:24:54.336][MDP][613520][MYSQL][]
UPDATE `mdp`.`ai_open_service` SET `BASE_PATH` = 'notebook', `CONTEXT_PATH` = '' WHERE `SERVICE_ID` = 'notebook'

[2019-05-16 15:24:54.397][MDP][613520][MYSQL][]
SELECT * FROM `mdp`.`ai_open_service` WHERE `SERVICE_ID` = 'notebook'

[2019-05-16 15:27:23.559][MDP][613520][MYSQL][]
UPDATE `mdp`.`ai_open_service` SET `PUBLIC_FLAG` = 1 WHERE `SERVICE_ID` = 'notebook'

[2019-05-16 15:27:23.619][MDP][613520][MYSQL][]
SELECT * FROM `mdp`.`ai_open_service` WHERE `SERVICE_ID` = 'notebook'

[2019-05-16 15:27:28.576][MDP][613520][MYSQL][]
SELECT * FROM `mdp`.`ai_open_service` LIMIT 0,1000

[2019-05-16 15:27:28.701][MDP][613522][MYSQL][]
SHOW COLUMNS FROM `mdp`.`ai_open_service`

[2019-05-16 15:27:28.765][MDP][613520][MYSQL][]
SHOW TABLE STATUS LIKE 'ai_open_service'

[2019-05-16 15:27:28.828][MDP][613520][MYSQL][]
SHOW CREATE TABLE `mdp`.`ai_open_service`

[2019-05-16 15:31:46.321][MDP][613520][MYSQL][]
SHOW VARIABLES LIKE 'lower_case_%'

[2019-05-16 15:31:46.393][MDP][613520][MYSQL][]
SHOW VARIABLES LIKE 'sql_mode'

[2019-05-16 15:31:46.555][MDP][613520][MYSQL][]
SELECT COUNT(*) FROM information_schema.TABLES WHERE TABLE_SCHEMA = 'mdp' UNION SELECT COUNT(*) FROM information_schema.COLUMNS WHERE TABLE_SCHEMA = 'mdp' UNION SELECT COUNT(*) FROM information_schema.ROUTINES WHERE ROUTINE_SCHEMA = 'mdp'

[2019-05-16 15:31:46.608][MDP][613522][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-16 15:31:46.726][MDP][613520][MYSQL][]
SELECT TABLE_NAME, CHECK_OPTION, IS_UPDATABLE, SECURITY_TYPE, DEFINER FROM INFORMATION_SCHEMA.VIEWS WHERE TABLE_SCHEMA = 'mdp' ORDER BY TABLE_NAME ASC

[2019-05-16 15:31:50.181][MDP][613520][MYSQL][]
SET PROFILING = 1

[2019-05-16 15:31:50.238][MDP][613520][MYSQL][]
SHOW STATUS

[2019-05-16 15:31:50.307][MDP][613520][MYSQL][]
SHOW STATUS

[2019-05-16 15:31:50.389][MDP][613520][MYSQL][]
SELECT TT.*, '' AS IS_CYCLE_USE
 FROM (
 SELECT T.MODEL_ID MODEL_ID, T.MODEL_NAME MODEL_NAME, T.MODEL_TYPE_ID MODEL_TYPE_ID, T3.MODEL_TYPE_ICON, T.STATUS STATUS, T4.STAGE_ID STAGE_ID, T2.STAGE_ID TASK_EXEC_STAGE, T4.STAGE_NAME STAGE_NAME, T4.STAGE_ICON STAGE_ICON, T2.STAGE_BAR_M STAGE_BAR, T1.TASK_ID, date_format(T.CREATE_TIME, '%Y-%m-%d %H:%i:%s') AS CREATE_TIME, CASE WHEN T2.FIRST_TIME IS NOT NULL THEN date_format(T2.FIRST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(T.CREATE_TIME,'%Y-%m-%d %H:%i:%s') END AS NEW_TIME, CASE WHEN T.MANNER = 7 THEN date_format(T1.END_TIME,'%Y-%m-%d %H:%i:%s') ELSE ( CASE WHEN T2.LAST_TIME IS NOT NULL THEN date_format(T2.LAST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(now(),'%Y-%m-%d %H:%i:%s') END ) END AS END_TIME, T.CREATE_USER, T.MANNER, T.ENGINE, T.BUSINESS_TYPE, MAT.NAME, T.DEV_LANGUAGE, TAR._owner, TAR._group, TAR._tenant, TAR._auth
 FROM MDP_MODEL T
 INNER JOIN (
 SELECT res.res_id, 1 AS _owner, IF(AUTH.res_id IS NULL, -1, 1) AS _auth, 1 AS _group, 1 AS _tenant
 FROM (select t.model_id as res_id, t.model_name as res_name, t.tenant as tenant, t.create_user as res_owner, t.model_type_id as model_scene, t.business_type as busi_type
 FROM mdp_model t) res LEFT OUTER JOIN (
 SELECT res_id
 FROM ai_subject_res_permit
 WHERE res_domain = 'MODEL' AND res_id IS NOT NULL AND ( (subject_type IN (1, 3) AND subject_id = 'admin') OR (subject_type = 2 AND subject_id IN ( '1499742124740' ) ) ) ) auth
 ON res.res_id = auth.res_id
 WHERE res.res_owner = 'admin' OR auth.res_id IS NOT NULL ) TAR
 ON T.model_id=TAR.res_id
 LEFT JOIN (
 SELECT max(task_id) task_id,MAX(end_time) end_time,model_id
 FROM MDP_MODEL_TASK group BY model_id order by create_time ) T1
 ON T.MODEL_ID = T1.MODEL_ID
 LEFT JOIN (select modelSTAGE.MODEL_ID,modelSTAGE.STAGE_ID,modelSTAGE.STAGE_BAR,modelSTAGE.MESSAGE,modelSTAGE.RESULT,modelSTAGE.STATUS, modelSTAGE.FIRST_TIME,modelSTAGE.LAST_TIME,modelSTAGE.STAGE_BAR_M,stage.STAGE_NAME,stage.STAGE_ICON
 FROM (select astage.*,bstage.last_time,bstage.stage_bar_m,bstages.first_time
 FROM MDP_MODEL_STAGE astage, (select max(stage_id)-1 stage_id,max(end_time) last_time,MAX(stage_bar) stage_bar_m,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null group by model_id,task_id) bstage, (SELECT min(stage_id) stage_id,min(start_time) first_time,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null GROUP BY model_id,task_id) bstages
 WHERE astage.model_id=bstage.model_id and astage.model_id=bstages.model_id and bstage.task_id=bstages.task_id) modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id=stage.stage_id) T2
 ON T.MODEL_ID = T2.MODEL_ID
 LEFT JOIN (
 SELECT modelSTAGE.status,stage.STAGE_ID, stage.STAGE_NAME, stage.STAGE_ICON
 FROM mdp_modelstage_map modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id = stage.stage_id ) T4
 ON T.status = T4.status
 LEFT JOIN MDP_MODEL_TYPE T3
 ON T.MODEL_TYPE_ID = T3.MODEL_TYPE_ID
 LEFT JOIN MDP_APPTOPIC_TYPE MAT
 ON T.BUSINESS_TYPE = MAT.id
 WHERE 1=1 AND T3.IS_VALID!=-1 ORDER BY T.CREATE_TIME DESC ) TT GROUP BY TT.MODEL_ID, TT.MODEL_NAME, TT.MODEL_TYPE_ID, TT.MODEL_TYPE_ICON, TT.STAGE_ID, TT.STAGE_NAME, TT.STAGE_ICON, TT.CREATE_TIME ORDER BY NEW_TIME DESC

[2019-05-16 15:31:51.127][MDP][613520][MYSQL][]
SHOW STATUS

[2019-05-16 15:31:51.213][MDP][613520][MYSQL][]
SELECT QUERY_ID, SUM(DURATION) AS SUM_DURATION FROM INFORMATION_SCHEMA.PROFILING GROUP BY QUERY_ID

[2019-05-16 15:31:51.271][MDP][613520][MYSQL][]
SELECT STATE AS `Status`, ROUND(SUM(DURATION),7) AS `Duration`, CONCAT(ROUND(SUM(DURATION)/0.001643*100,3), '') AS `Percentage` FROM INFORMATION_SCHEMA.PROFILING WHERE QUERY_ID=2 GROUP BY SEQ, STATE ORDER BY SEQ

[2019-05-16 15:33:02.62][MDP][613520][MYSQL][]
SET PROFILING = 1

[2019-05-16 15:33:02.689][MDP][613520][MYSQL][]
SHOW STATUS

[2019-05-16 15:33:02.771][MDP][613520][MYSQL][]
SHOW STATUS

[2019-05-16 15:33:02.854][MDP][613520][MYSQL][]
SELECT TT.*, '' AS IS_CYCLE_USE
 FROM (
 SELECT T.MODEL_ID MODEL_ID, T.MODEL_NAME MODEL_NAME, T.MODEL_TYPE_ID MODEL_TYPE_ID, T3.MODEL_TYPE_ICON, T.STATUS STATUS, T4.STAGE_ID STAGE_ID, T2.STAGE_ID TASK_EXEC_STAGE, T4.STAGE_NAME STAGE_NAME, T4.STAGE_ICON STAGE_ICON, T2.STAGE_BAR_M STAGE_BAR, T1.TASK_ID, date_format(T.CREATE_TIME, '%Y-%m-%d %H:%i:%s') AS CREATE_TIME, CASE WHEN T2.FIRST_TIME IS NOT NULL THEN date_format(T2.FIRST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(T.CREATE_TIME,'%Y-%m-%d %H:%i:%s') END AS NEW_TIME, CASE WHEN T.MANNER = 7 THEN date_format(T1.END_TIME,'%Y-%m-%d %H:%i:%s') ELSE ( CASE WHEN T2.LAST_TIME IS NOT NULL THEN date_format(T2.LAST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(now(),'%Y-%m-%d %H:%i:%s') END ) END AS END_TIME, T.CREATE_USER, T.MANNER, T.ENGINE, T.BUSINESS_TYPE, MAT.NAME, T.DEV_LANGUAGE, TAR._owner, TAR._group, TAR._tenant, TAR._auth
 FROM MDP_MODEL T
 INNER JOIN (
 SELECT res.res_id, 1 AS _owner, IF(AUTH.res_id IS NULL, -1, 1) AS _auth, 1 AS _group, 1 AS _tenant
 FROM (select t.model_id as res_id, t.model_name as res_name, t.tenant as tenant, t.create_user as res_owner, t.model_type_id as model_scene, t.business_type as busi_type
 FROM mdp_model t) res LEFT OUTER JOIN (
 SELECT res_id
 FROM ai_subject_res_permit
 WHERE res_domain = 'MODEL' AND res_id IS NOT NULL AND ( (subject_type IN (1, 3) AND subject_id = 'admin') OR (subject_type = 2 AND subject_id IN ( '1499742124740' ) ) ) ) auth
 ON res.res_id = auth.res_id
 WHERE res.res_owner = 'admin' OR auth.res_id IS NOT NULL ) TAR
 ON T.model_id=TAR.res_id
 LEFT JOIN (
 SELECT max(task_id) task_id,MAX(end_time) end_time,model_id
 FROM MDP_MODEL_TASK group BY model_id order by create_time ) T1
 ON T.MODEL_ID = T1.MODEL_ID
 LEFT JOIN (select modelSTAGE.MODEL_ID,modelSTAGE.STAGE_ID,modelSTAGE.STAGE_BAR,modelSTAGE.MESSAGE,modelSTAGE.RESULT,modelSTAGE.STATUS, modelSTAGE.FIRST_TIME,modelSTAGE.LAST_TIME,modelSTAGE.STAGE_BAR_M,stage.STAGE_NAME,stage.STAGE_ICON
 FROM (select astage.*,bstage.last_time,bstage.stage_bar_m,bstages.first_time
 FROM MDP_MODEL_STAGE astage, (select max(stage_id)-1 stage_id,max(end_time) last_time,MAX(stage_bar) stage_bar_m,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null group by model_id,task_id) bstage, (SELECT min(stage_id) stage_id,min(start_time) first_time,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null GROUP BY model_id,task_id) bstages
 WHERE astage.model_id=bstage.model_id and astage.model_id=bstages.model_id and bstage.task_id=bstages.task_id) modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id=stage.stage_id) T2
 ON T.MODEL_ID = T2.MODEL_ID
 LEFT JOIN (
 SELECT modelSTAGE.status,stage.STAGE_ID, stage.STAGE_NAME, stage.STAGE_ICON
 FROM mdp_modelstage_map modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id = stage.stage_id ) T4
 ON T.status = T4.status
 LEFT JOIN MDP_MODEL_TYPE T3
 ON T.MODEL_TYPE_ID = T3.MODEL_TYPE_ID
 LEFT JOIN MDP_APPTOPIC_TYPE MAT
 ON T.BUSINESS_TYPE = MAT.id
 WHERE 1=1 AND T3.IS_VALID!=-1 ORDER BY T.CREATE_TIME DESC ) TT GROUP BY TT.MODEL_ID, TT.MODEL_NAME, TT.MODEL_TYPE_ID, TT.MODEL_TYPE_ICON, TT.STAGE_ID, TT.STAGE_NAME, TT.STAGE_ICON, TT.CREATE_TIME ORDER BY NEW_TIME DESC

[2019-05-16 15:33:03.633][MDP][613520][MYSQL][]
SHOW STATUS

[2019-05-16 15:33:03.707][MDP][613520][MYSQL][]
SELECT QUERY_ID, SUM(DURATION) AS SUM_DURATION FROM INFORMATION_SCHEMA.PROFILING GROUP BY QUERY_ID

[2019-05-16 15:33:03.768][MDP][613520][MYSQL][]
SELECT STATE AS `Status`, ROUND(SUM(DURATION),7) AS `Duration`, CONCAT(ROUND(SUM(DURATION)/0.001643*100,3), '') AS `Percentage` FROM INFORMATION_SCHEMA.PROFILING WHERE QUERY_ID=2 GROUP BY SEQ, STATE ORDER BY SEQ

[2019-05-16 15:33:05.361][MDP][613520][MYSQL][]
SET PROFILING = 1

[2019-05-16 15:33:05.425][MDP][613520][MYSQL][]
SHOW STATUS

[2019-05-16 15:33:05.495][MDP][613520][MYSQL][]
SHOW STATUS

[2019-05-16 15:33:05.58][MDP][613520][MYSQL][]
SELECT TT.*, '' AS IS_CYCLE_USE
 FROM (
 SELECT T.MODEL_ID MODEL_ID, T.MODEL_NAME MODEL_NAME, T.MODEL_TYPE_ID MODEL_TYPE_ID, T3.MODEL_TYPE_ICON, T.STATUS STATUS, T4.STAGE_ID STAGE_ID, T2.STAGE_ID TASK_EXEC_STAGE, T4.STAGE_NAME STAGE_NAME, T4.STAGE_ICON STAGE_ICON, T2.STAGE_BAR_M STAGE_BAR, T1.TASK_ID, date_format(T.CREATE_TIME, '%Y-%m-%d %H:%i:%s') AS CREATE_TIME, CASE WHEN T2.FIRST_TIME IS NOT NULL THEN date_format(T2.FIRST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(T.CREATE_TIME,'%Y-%m-%d %H:%i:%s') END AS NEW_TIME, CASE WHEN T.MANNER = 7 THEN date_format(T1.END_TIME,'%Y-%m-%d %H:%i:%s') ELSE ( CASE WHEN T2.LAST_TIME IS NOT NULL THEN date_format(T2.LAST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(now(),'%Y-%m-%d %H:%i:%s') END ) END AS END_TIME, T.CREATE_USER, T.MANNER, T.ENGINE, T.BUSINESS_TYPE, MAT.NAME, T.DEV_LANGUAGE, TAR._owner, TAR._group, TAR._tenant, TAR._auth
 FROM MDP_MODEL T
 INNER JOIN (
 SELECT res.res_id, 1 AS _owner, IF(AUTH.res_id IS NULL, -1, 1) AS _auth, 1 AS _group, 1 AS _tenant
 FROM (select t.model_id as res_id, t.model_name as res_name, t.tenant as tenant, t.create_user as res_owner, t.model_type_id as model_scene, t.business_type as busi_type
 FROM mdp_model t) res LEFT OUTER JOIN (
 SELECT res_id
 FROM ai_subject_res_permit
 WHERE res_domain = 'MODEL' AND res_id IS NOT NULL AND ( (subject_type IN (1, 3) AND subject_id = 'admin') OR (subject_type = 2 AND subject_id IN ( '1499742124740' ) ) ) ) auth
 ON res.res_id = auth.res_id
 WHERE res.res_owner = 'admin' OR auth.res_id IS NOT NULL ) TAR
 ON T.model_id=TAR.res_id
 LEFT JOIN (
 SELECT max(task_id) task_id,MAX(end_time) end_time,model_id
 FROM MDP_MODEL_TASK group BY model_id order by create_time ) T1
 ON T.MODEL_ID = T1.MODEL_ID
 LEFT JOIN (select modelSTAGE.MODEL_ID,modelSTAGE.STAGE_ID,modelSTAGE.STAGE_BAR,modelSTAGE.MESSAGE,modelSTAGE.RESULT,modelSTAGE.STATUS, modelSTAGE.FIRST_TIME,modelSTAGE.LAST_TIME,modelSTAGE.STAGE_BAR_M,stage.STAGE_NAME,stage.STAGE_ICON
 FROM (select astage.*,bstage.last_time,bstage.stage_bar_m,bstages.first_time
 FROM MDP_MODEL_STAGE astage, (select max(stage_id)-1 stage_id,max(end_time) last_time,MAX(stage_bar) stage_bar_m,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null group by model_id,task_id) bstage, (SELECT min(stage_id) stage_id,min(start_time) first_time,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null GROUP BY model_id,task_id) bstages
 WHERE astage.model_id=bstage.model_id and astage.model_id=bstages.model_id and bstage.task_id=bstages.task_id) modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id=stage.stage_id) T2
 ON T.MODEL_ID = T2.MODEL_ID
 LEFT JOIN (
 SELECT modelSTAGE.status,stage.STAGE_ID, stage.STAGE_NAME, stage.STAGE_ICON
 FROM mdp_modelstage_map modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id = stage.stage_id ) T4
 ON T.status = T4.status
 LEFT JOIN MDP_MODEL_TYPE T3
 ON T.MODEL_TYPE_ID = T3.MODEL_TYPE_ID
 LEFT JOIN MDP_APPTOPIC_TYPE MAT
 ON T.BUSINESS_TYPE = MAT.id
 WHERE 1=1 AND T3.IS_VALID!=-1 ORDER BY T.CREATE_TIME DESC ) TT GROUP BY TT.MODEL_ID, TT.MODEL_NAME, TT.MODEL_TYPE_ID, TT.MODEL_TYPE_ICON, TT.STAGE_ID, TT.STAGE_NAME, TT.STAGE_ICON, TT.CREATE_TIME ORDER BY NEW_TIME DESC

[2019-05-16 15:33:06.328][MDP][613520][MYSQL][]
SHOW STATUS

[2019-05-16 15:33:06.4][MDP][613520][MYSQL][]
SELECT QUERY_ID, SUM(DURATION) AS SUM_DURATION FROM INFORMATION_SCHEMA.PROFILING GROUP BY QUERY_ID

[2019-05-16 15:33:06.46][MDP][613520][MYSQL][]
SELECT STATE AS `Status`, ROUND(SUM(DURATION),7) AS `Duration`, CONCAT(ROUND(SUM(DURATION)/0.001403*100,3), '') AS `Percentage` FROM INFORMATION_SCHEMA.PROFILING WHERE QUERY_ID=5 GROUP BY SEQ, STATE ORDER BY SEQ

[2019-05-16 15:38:58.542][MDP][613520][MYSQL][]
SET PROFILING = 1

[2019-05-16 15:38:58.607][MDP][613520][MYSQL][]
SHOW STATUS

[2019-05-16 15:38:58.712][MDP][613520][MYSQL][]
SHOW STATUS

[2019-05-16 15:38:58.785][MDP][613520][MYSQL][]
SELECT TT.*, '' AS IS_CYCLE_USE
 FROM (
 SELECT T.MODEL_ID MODEL_ID, T.MODEL_NAME MODEL_NAME, T.MODEL_TYPE_ID MODEL_TYPE_ID, T3.MODEL_TYPE_ICON, T.STATUS STATUS, T4.STAGE_ID STAGE_ID, T2.STAGE_ID TASK_EXEC_STAGE, T4.STAGE_NAME STAGE_NAME, T4.STAGE_ICON STAGE_ICON, T2.STAGE_BAR_M STAGE_BAR, T1.TASK_ID, date_format(T.CREATE_TIME, '%Y-%m-%d %H:%i:%s') AS CREATE_TIME, CASE WHEN T2.FIRST_TIME IS NOT NULL THEN date_format(T2.FIRST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(T.CREATE_TIME,'%Y-%m-%d %H:%i:%s') END AS NEW_TIME, CASE WHEN T.MANNER = 7 THEN date_format(T1.END_TIME,'%Y-%m-%d %H:%i:%s') ELSE ( CASE WHEN T2.LAST_TIME IS NOT NULL THEN date_format(T2.LAST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(now(),'%Y-%m-%d %H:%i:%s') END ) END AS END_TIME, T.CREATE_USER, T.MANNER, T.ENGINE, T.BUSINESS_TYPE, MAT.NAME, T.DEV_LANGUAGE, TAR._owner, TAR._group, TAR._tenant, TAR._auth
 FROM MDP_MODEL T
 INNER JOIN (
 SELECT res.res_id, 1 AS _owner, IF(AUTH.res_id IS NULL, -1, 1) AS _auth, 1 AS _group, 1 AS _tenant
 FROM (select t.model_id as res_id, t.model_name as res_name, t.tenant as tenant, t.create_user as res_owner, t.model_type_id as model_scene, t.business_type as busi_type
 FROM mdp_model t) res LEFT OUTER JOIN (
 SELECT res_id
 FROM ai_subject_res_permit
 WHERE res_domain = 'MODEL' AND res_id IS NOT NULL AND ( (subject_type IN (1, 3) AND subject_id = 'admin') OR (subject_type = 2 AND subject_id IN ( '1499742124740' ) ) ) ) auth
 ON res.res_id = auth.res_id
 WHERE res.res_owner = 'admin' OR auth.res_id IS NOT NULL ) TAR
 ON T.model_id=TAR.res_id
 LEFT JOIN (
 SELECT max(task_id) task_id,MAX(end_time) end_time,model_id
 FROM MDP_MODEL_TASK group BY model_id order by create_time ) T1
 ON T.MODEL_ID = T1.MODEL_ID
 LEFT JOIN (select modelSTAGE.MODEL_ID,modelSTAGE.STAGE_ID,modelSTAGE.STAGE_BAR,modelSTAGE.MESSAGE,modelSTAGE.RESULT,modelSTAGE.STATUS, modelSTAGE.FIRST_TIME,modelSTAGE.LAST_TIME,modelSTAGE.STAGE_BAR_M,stage.STAGE_NAME,stage.STAGE_ICON
 FROM (select astage.*,bstage.last_time,bstage.stage_bar_m,bstages.first_time
 FROM MDP_MODEL_STAGE astage, (select max(stage_id)-1 stage_id,max(end_time) last_time,MAX(stage_bar) stage_bar_m,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null group by model_id,task_id) bstage, (SELECT min(stage_id) stage_id,min(start_time) first_time,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null GROUP BY model_id,task_id) bstages
 WHERE astage.model_id=bstage.model_id and astage.model_id=bstages.model_id and bstage.task_id=bstages.task_id) modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id=stage.stage_id) T2
 ON T.MODEL_ID = T2.MODEL_ID
 LEFT JOIN (
 SELECT modelSTAGE.status,stage.STAGE_ID, stage.STAGE_NAME, stage.STAGE_ICON
 FROM mdp_modelstage_map modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id = stage.stage_id ) T4
 ON T.status = T4.status
 LEFT JOIN MDP_MODEL_TYPE T3
 ON T.MODEL_TYPE_ID = T3.MODEL_TYPE_ID
 LEFT JOIN MDP_APPTOPIC_TYPE MAT
 ON T.BUSINESS_TYPE = MAT.id
 WHERE 1=1 AND T3.IS_VALID!=-1 ORDER BY T.CREATE_TIME DESC ) TT GROUP BY TT.MODEL_ID, TT.MODEL_NAME, TT.MODEL_TYPE_ID, TT.MODEL_TYPE_ICON, TT.STAGE_ID, TT.STAGE_NAME, TT.STAGE_ICON, TT.CREATE_TIME ORDER BY NEW_TIME DESC

[2019-05-16 15:38:59.505][MDP][613520][MYSQL][]
SHOW STATUS

[2019-05-16 15:38:59.576][MDP][613520][MYSQL][]
SELECT QUERY_ID, SUM(DURATION) AS SUM_DURATION FROM INFORMATION_SCHEMA.PROFILING GROUP BY QUERY_ID

[2019-05-16 15:38:59.638][MDP][613520][MYSQL][]
SELECT STATE AS `Status`, ROUND(SUM(DURATION),7) AS `Duration`, CONCAT(ROUND(SUM(DURATION)/0.002876*100,3), '') AS `Percentage` FROM INFORMATION_SCHEMA.PROFILING WHERE QUERY_ID=12 GROUP BY SEQ, STATE ORDER BY SEQ

[2019-05-16 15:40:15.316][MDP][613522][MYSQL][]
SELECT COUNT(*) FROM information_schema.TABLES WHERE TABLE_SCHEMA = 'mdp210' UNION SELECT COUNT(*) FROM information_schema.COLUMNS WHERE TABLE_SCHEMA = 'mdp210' UNION SELECT COUNT(*) FROM information_schema.ROUTINES WHERE ROUTINE_SCHEMA = 'mdp210'

[2019-05-16 15:40:15.613][MDP][614628][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-16 15:40:15.747][MDP][613522][MYSQL][]
SELECT TABLE_NAME, CHECK_OPTION, IS_UPDATABLE, SECURITY_TYPE, DEFINER FROM INFORMATION_SCHEMA.VIEWS WHERE TABLE_SCHEMA = 'mdp210' ORDER BY TABLE_NAME ASC

[2019-05-16 15:40:17.074][MDP][613522][MYSQL][]
SET PROFILING = 1

[2019-05-16 15:40:17.134][MDP][613522][MYSQL][]
SHOW STATUS

[2019-05-16 15:40:17.206][MDP][613522][MYSQL][]
SHOW STATUS

[2019-05-16 15:40:17.274][MDP][613522][MYSQL][]
SELECT TT.*, '' AS IS_CYCLE_USE
 FROM (
 SELECT T.MODEL_ID MODEL_ID, T.MODEL_NAME MODEL_NAME, T.MODEL_TYPE_ID MODEL_TYPE_ID, T3.MODEL_TYPE_ICON, T.STATUS STATUS, T4.STAGE_ID STAGE_ID, T2.STAGE_ID TASK_EXEC_STAGE, T4.STAGE_NAME STAGE_NAME, T4.STAGE_ICON STAGE_ICON, T2.STAGE_BAR_M STAGE_BAR, T1.TASK_ID, date_format(T.CREATE_TIME, '%Y-%m-%d %H:%i:%s') AS CREATE_TIME, CASE WHEN T2.FIRST_TIME IS NOT NULL THEN date_format(T2.FIRST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(T.CREATE_TIME,'%Y-%m-%d %H:%i:%s') END AS NEW_TIME, CASE WHEN T.MANNER = 7 THEN date_format(T1.END_TIME,'%Y-%m-%d %H:%i:%s') ELSE ( CASE WHEN T2.LAST_TIME IS NOT NULL THEN date_format(T2.LAST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(now(),'%Y-%m-%d %H:%i:%s') END ) END AS END_TIME, T.CREATE_USER, T.MANNER, T.ENGINE, T.BUSINESS_TYPE, MAT.NAME, T.DEV_LANGUAGE, TAR._owner, TAR._group, TAR._tenant, TAR._auth
 FROM MDP_MODEL T
 INNER JOIN (
 SELECT res.res_id, 1 AS _owner, IF(AUTH.res_id IS NULL, -1, 1) AS _auth, 1 AS _group, 1 AS _tenant
 FROM (select t.model_id as res_id, t.model_name as res_name, t.tenant as tenant, t.create_user as res_owner, t.model_type_id as model_scene, t.business_type as busi_type
 FROM mdp_model t) res LEFT OUTER JOIN (
 SELECT res_id
 FROM ai_subject_res_permit
 WHERE res_domain = 'MODEL' AND res_id IS NOT NULL AND ( (subject_type IN (1, 3) AND subject_id = 'admin') OR (subject_type = 2 AND subject_id IN ( '1499742124740' ) ) ) ) auth
 ON res.res_id = auth.res_id
 WHERE res.res_owner = 'admin' OR auth.res_id IS NOT NULL ) TAR
 ON T.model_id=TAR.res_id
 LEFT JOIN (
 SELECT max(task_id) task_id,MAX(end_time) end_time,model_id
 FROM MDP_MODEL_TASK group BY model_id order by create_time ) T1
 ON T.MODEL_ID = T1.MODEL_ID
 LEFT JOIN (select modelSTAGE.MODEL_ID,modelSTAGE.STAGE_ID,modelSTAGE.STAGE_BAR,modelSTAGE.MESSAGE,modelSTAGE.RESULT,modelSTAGE.STATUS, modelSTAGE.FIRST_TIME,modelSTAGE.LAST_TIME,modelSTAGE.STAGE_BAR_M,stage.STAGE_NAME,stage.STAGE_ICON
 FROM (select astage.*,bstage.last_time,bstage.stage_bar_m,bstages.first_time
 FROM MDP_MODEL_STAGE astage, (select max(stage_id)-1 stage_id,max(end_time) last_time,MAX(stage_bar) stage_bar_m,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null group by model_id,task_id) bstage, (SELECT min(stage_id) stage_id,min(start_time) first_time,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null GROUP BY model_id,task_id) bstages
 WHERE astage.model_id=bstage.model_id and astage.model_id=bstages.model_id and bstage.task_id=bstages.task_id) modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id=stage.stage_id) T2
 ON T.MODEL_ID = T2.MODEL_ID
 LEFT JOIN (
 SELECT modelSTAGE.status,stage.STAGE_ID, stage.STAGE_NAME, stage.STAGE_ICON
 FROM mdp_modelstage_map modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id = stage.stage_id ) T4
 ON T.status = T4.status
 LEFT JOIN MDP_MODEL_TYPE T3
 ON T.MODEL_TYPE_ID = T3.MODEL_TYPE_ID
 LEFT JOIN MDP_APPTOPIC_TYPE MAT
 ON T.BUSINESS_TYPE = MAT.id
 WHERE 1=1 AND T3.IS_VALID!=-1 ORDER BY T.CREATE_TIME DESC ) TT GROUP BY TT.MODEL_ID, TT.MODEL_NAME, TT.MODEL_TYPE_ID, TT.MODEL_TYPE_ICON, TT.STAGE_ID, TT.STAGE_NAME, TT.STAGE_ICON, TT.CREATE_TIME ORDER BY NEW_TIME DESC

[2019-05-16 15:40:28.886][MDP][613522][MYSQL][]
SHOW STATUS

[2019-05-16 15:40:28.967][MDP][613522][MYSQL][]
SELECT QUERY_ID, SUM(DURATION) AS SUM_DURATION FROM INFORMATION_SCHEMA.PROFILING GROUP BY QUERY_ID

[2019-05-16 15:40:29.032][MDP][613522][MYSQL][]
SELECT STATE AS `Status`, ROUND(SUM(DURATION),7) AS `Duration`, CONCAT(ROUND(SUM(DURATION)/0.001642*100,3), '') AS `Percentage` FROM INFORMATION_SCHEMA.PROFILING WHERE QUERY_ID=2 GROUP BY SEQ, STATE ORDER BY SEQ

[2019-05-16 15:41:03.402][MDP][614628][MYSQL][]
SELECT COUNT(*) FROM information_schema.TABLES WHERE TABLE_SCHEMA = 'mdp' UNION SELECT COUNT(*) FROM information_schema.COLUMNS WHERE TABLE_SCHEMA = 'mdp' UNION SELECT COUNT(*) FROM information_schema.ROUTINES WHERE ROUTINE_SCHEMA = 'mdp'

[2019-05-16 15:41:03.803][MDP][614638][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-16 15:41:04.087][MDP][614628][MYSQL][]
SELECT TABLE_NAME, CHECK_OPTION, IS_UPDATABLE, SECURITY_TYPE, DEFINER FROM INFORMATION_SCHEMA.VIEWS WHERE TABLE_SCHEMA = 'mdp' ORDER BY TABLE_NAME ASC

[2019-05-16 15:42:41.272][MDP][614628][MYSQL][]
SET PROFILING = 1

[2019-05-16 15:42:41.33][MDP][614628][MYSQL][]
SHOW STATUS

[2019-05-16 15:42:41.399][MDP][614628][MYSQL][]
SHOW STATUS

[2019-05-16 15:42:41.472][MDP][614628][MYSQL][]
select count(*) from MDP_MODEL_STAGE

[2019-05-16 15:42:41.539][MDP][614628][MYSQL][]
select count(*) from ai_subject_res_permit

[2019-05-16 15:42:41.664][MDP][614628][MYSQL][]
select count(*) from MDP_MODEL_TASK

[2019-05-16 15:42:41.721][MDP][614628][MYSQL][]
SHOW STATUS

[2019-05-16 15:42:41.802][MDP][614628][MYSQL][]
SELECT QUERY_ID, SUM(DURATION) AS SUM_DURATION FROM INFORMATION_SCHEMA.PROFILING GROUP BY QUERY_ID

[2019-05-16 15:42:41.86][MDP][614628][MYSQL][]
SELECT STATE AS `Status`, ROUND(SUM(DURATION),7) AS `Duration`, CONCAT(ROUND(SUM(DURATION)/0.001436*100,3), '') AS `Percentage` FROM INFORMATION_SCHEMA.PROFILING WHERE QUERY_ID=2 GROUP BY SEQ, STATE ORDER BY SEQ

[2019-05-16 15:42:51.441][MDP][614638][MYSQL][]
SELECT COUNT(*) FROM information_schema.TABLES WHERE TABLE_SCHEMA = 'mdp210' UNION SELECT COUNT(*) FROM information_schema.COLUMNS WHERE TABLE_SCHEMA = 'mdp210' UNION SELECT COUNT(*) FROM information_schema.ROUTINES WHERE ROUTINE_SCHEMA = 'mdp210'

[2019-05-16 15:42:51.749][MDP][614657][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-16 15:42:51.887][MDP][614638][MYSQL][]
SELECT TABLE_NAME, CHECK_OPTION, IS_UPDATABLE, SECURITY_TYPE, DEFINER FROM INFORMATION_SCHEMA.VIEWS WHERE TABLE_SCHEMA = 'mdp210' ORDER BY TABLE_NAME ASC

[2019-05-16 15:42:52.69][MDP][614638][MYSQL][]
SET PROFILING = 1

[2019-05-16 15:42:52.754][MDP][614638][MYSQL][]
SHOW STATUS

[2019-05-16 15:42:52.887][MDP][614638][MYSQL][]
SHOW STATUS

[2019-05-16 15:42:53.019][MDP][614638][MYSQL][]
select count(*) from MDP_MODEL_STAGE

[2019-05-16 15:42:53.101][MDP][614638][MYSQL][]
select count(*) from ai_subject_res_permit

[2019-05-16 15:42:53.209][MDP][614638][MYSQL][]
select count(*) from MDP_MODEL_TASK

[2019-05-16 15:42:53.367][MDP][614638][MYSQL][]
SHOW STATUS

[2019-05-16 15:42:53.441][MDP][614638][MYSQL][]
SELECT QUERY_ID, SUM(DURATION) AS SUM_DURATION FROM INFORMATION_SCHEMA.PROFILING GROUP BY QUERY_ID

[2019-05-16 15:42:53.505][MDP][614638][MYSQL][]
SELECT STATE AS `Status`, ROUND(SUM(DURATION),7) AS `Duration`, CONCAT(ROUND(SUM(DURATION)/0.001423*100,3), '') AS `Percentage` FROM INFORMATION_SCHEMA.PROFILING WHERE QUERY_ID=2 GROUP BY SEQ, STATE ORDER BY SEQ

[2019-05-16 15:43:10.055][MDP][614657][MYSQL][]
SELECT COUNT(*) FROM information_schema.TABLES WHERE TABLE_SCHEMA = 'mdp' UNION SELECT COUNT(*) FROM information_schema.COLUMNS WHERE TABLE_SCHEMA = 'mdp' UNION SELECT COUNT(*) FROM information_schema.ROUTINES WHERE ROUTINE_SCHEMA = 'mdp'

[2019-05-16 15:43:10.384][MDP][614661][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-16 15:43:10.559][MDP][614657][MYSQL][]
SELECT TABLE_NAME, CHECK_OPTION, IS_UPDATABLE, SECURITY_TYPE, DEFINER FROM INFORMATION_SCHEMA.VIEWS WHERE TABLE_SCHEMA = 'mdp' ORDER BY TABLE_NAME ASC

[2019-05-16 15:43:10.848][MDP][614657][MYSQL][]
SET PROFILING = 1

[2019-05-16 15:43:10.907][MDP][614657][MYSQL][]
SHOW STATUS

[2019-05-16 15:43:11.005][MDP][614657][MYSQL][]
SHOW STATUS

[2019-05-16 15:43:11.08][MDP][614657][MYSQL][]
select count(*) from MDP_MODEL_STAGE

[2019-05-16 15:43:11.159][MDP][614657][MYSQL][]
select count(*) from ai_subject_res_permit

[2019-05-16 15:43:11.269][MDP][614657][MYSQL][]
select count(*) from MDP_MODEL_TASK

[2019-05-16 15:43:11.428][MDP][614657][MYSQL][]
SHOW STATUS

[2019-05-16 15:43:11.499][MDP][614657][MYSQL][]
SELECT QUERY_ID, SUM(DURATION) AS SUM_DURATION FROM INFORMATION_SCHEMA.PROFILING GROUP BY QUERY_ID

[2019-05-16 15:43:11.557][MDP][614657][MYSQL][]
SELECT STATE AS `Status`, ROUND(SUM(DURATION),7) AS `Duration`, CONCAT(ROUND(SUM(DURATION)/0.001347*100,3), '') AS `Percentage` FROM INFORMATION_SCHEMA.PROFILING WHERE QUERY_ID=2 GROUP BY SEQ, STATE ORDER BY SEQ

[2019-05-16 15:44:27.304][MDP][614661][MYSQL][]
SHOW PROCEDURE STATUS WHERE Db = 'mdp210'

[2019-05-16 15:44:27.373][MDP][614661][MYSQL][]
SHOW FUNCTION STATUS WHERE Db = 'mdp210'

[2019-05-16 15:44:27.471][MDP][614661][MYSQL][]
SELECT * FROM information_schema.ROUTINES WHERE ROUTINE_SCHEMA = 'mdp210' ORDER BY ROUTINE_NAME

[2019-05-16 15:44:32.465][MDP][614661][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-16 15:44:32.77][MDP][614661][MYSQL][]
SHOW TABLE STATUS

[2019-05-16 15:44:39.896][MDP][614661][MYSQL][]
SELECT * FROM `mdp210`.`ai_group_res_scope_permit` LIMIT 0,1000

[2019-05-16 15:44:40.736][MDP][614677][MYSQL][]
SHOW COLUMNS FROM `mdp210`.`ai_group_res_scope_permit`

[2019-05-16 15:44:40.864][MDP][614661][MYSQL][]
SHOW TABLE STATUS LIKE 'ai_group_res_scope_permit'

[2019-05-16 15:44:41.03][MDP][614661][MYSQL][]
SHOW CREATE TABLE `mdp210`.`ai_group_res_scope_permit`

[2019-05-16 15:44:47.649][MDP][614661][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-16 15:44:47.934][MDP][614661][MYSQL][]
SHOW TABLE STATUS

[2019-05-16 15:44:49.653][MDP][614661][MYSQL][]
SHOW TABLE STATUS LIKE 'ai\_group\_res\_scope\_permit'

[2019-05-16 15:44:49.874][MDP][614661][MYSQL][]
SHOW CREATE TABLE `ai_group_res_scope_permit` 

[2019-05-16 15:44:50.135][MDP][614661][MYSQL][]
SHOW FULL COLUMNS FROM `ai_group_res_scope_permit`

[2019-05-16 15:44:50.388][MDP][614661][MYSQL][]
SHOW INDEX FROM `ai_group_res_scope_permit`

[2019-05-16 15:44:50.79][MDP][614661][MYSQL][]
SELECT ACTION_ORDER, EVENT_OBJECT_TABLE, TRIGGER_NAME, EVENT_MANIPULATION, EVENT_OBJECT_TABLE, DEFINER, ACTION_STATEMENT, ACTION_TIMING FROM information_schema.triggers WHERE BINARY event_object_schema = 'mdp210' AND BINARY event_object_table = 'ai_group_res_scope_permit' ORDER BY event_object_table

[2019-05-16 15:44:51.075][MDP][614661][MYSQL][]
SELECT TABLE_NAME, PARTITION_NAME, SUBPARTITION_NAME, PARTITION_METHOD, SUBPARTITION_METHOD, PARTITION_EXPRESSION, SUBPARTITION_EXPRESSION, PARTITION_DESCRIPTION, PARTITION_COMMENT, NODEGROUP, TABLESPACE_NAME FROM information_schema.PARTITIONS WHERE NOT ISNULL(PARTITION_NAME) AND TABLE_SCHEMA LIKE 'mdp210' AND TABLE_NAME LIKE 'ai_group_res_scope_permit' ORDER BY TABLE_NAME, PARTITION_NAME, PARTITION_ORDINAL_POSITION, SUBPARTITION_ORDINAL_POSITION

[2019-05-16 15:44:51.568][MDP][614661][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-16 15:44:51.878][MDP][614661][MYSQL][]
SELECT DISTINCT(TABLESPACE_NAME) AS TABLESPACE_NAME FROM information_schema.FILES WHERE NOT ISNULL(TABLESPACE_NAME) LIMIT 10000

[2019-05-16 15:44:58.158][MDP][614661][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-16 15:44:58.426][MDP][614661][MYSQL][]
SHOW TABLE STATUS

[2019-05-16 15:45:03.273][MDP][614661][MYSQL][]
SELECT * FROM `mdp`.`ai_group_res_scope_permit` LIMIT 0,1000

[2019-05-16 15:45:03.531][MDP][614677][MYSQL][]
SHOW COLUMNS FROM `mdp`.`ai_group_res_scope_permit`

[2019-05-16 15:45:03.676][MDP][614661][MYSQL][]
SHOW TABLE STATUS LIKE 'ai_group_res_scope_permit'

[2019-05-16 15:45:03.841][MDP][614661][MYSQL][]
SHOW CREATE TABLE `mdp`.`ai_group_res_scope_permit`

[2019-05-16 15:45:05.708][MDP][614661][MYSQL][]
SHOW TABLE STATUS LIKE 'ai\_group\_res\_scope\_permit'

[2019-05-16 15:45:06.026][MDP][614661][MYSQL][]
SHOW CREATE TABLE `ai_group_res_scope_permit` 

[2019-05-16 15:45:06.287][MDP][614661][MYSQL][]
SHOW FULL COLUMNS FROM `ai_group_res_scope_permit`

[2019-05-16 15:45:06.612][MDP][614661][MYSQL][]
SHOW INDEX FROM `ai_group_res_scope_permit`

[2019-05-16 15:45:06.873][MDP][614661][MYSQL][]
SELECT ACTION_ORDER, EVENT_OBJECT_TABLE, TRIGGER_NAME, EVENT_MANIPULATION, EVENT_OBJECT_TABLE, DEFINER, ACTION_STATEMENT, ACTION_TIMING FROM information_schema.triggers WHERE BINARY event_object_schema = 'mdp' AND BINARY event_object_table = 'ai_group_res_scope_permit' ORDER BY event_object_table

[2019-05-16 15:45:07.136][MDP][614661][MYSQL][]
SELECT TABLE_NAME, PARTITION_NAME, SUBPARTITION_NAME, PARTITION_METHOD, SUBPARTITION_METHOD, PARTITION_EXPRESSION, SUBPARTITION_EXPRESSION, PARTITION_DESCRIPTION, PARTITION_COMMENT, NODEGROUP, TABLESPACE_NAME FROM information_schema.PARTITIONS WHERE NOT ISNULL(PARTITION_NAME) AND TABLE_SCHEMA LIKE 'mdp' AND TABLE_NAME LIKE 'ai_group_res_scope_permit' ORDER BY TABLE_NAME, PARTITION_NAME, PARTITION_ORDINAL_POSITION, SUBPARTITION_ORDINAL_POSITION

[2019-05-16 15:45:07.448][MDP][614661][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-16 15:45:07.73][MDP][614661][MYSQL][]
SELECT DISTINCT(TABLESPACE_NAME) AS TABLESPACE_NAME FROM information_schema.FILES WHERE NOT ISNULL(TABLESPACE_NAME) LIMIT 10000

[2019-05-16 15:45:10.927][MDP][614661][MYSQL][]
SELECT * FROM `mdp`.`ai_group_role_binding` LIMIT 0,1000

[2019-05-16 15:45:11.216][MDP][614677][MYSQL][]
SHOW COLUMNS FROM `mdp`.`ai_group_role_binding`

[2019-05-16 15:45:11.365][MDP][614661][MYSQL][]
SHOW TABLE STATUS LIKE 'ai_group_role_binding'

[2019-05-16 15:45:11.504][MDP][614661][MYSQL][]
SHOW CREATE TABLE `mdp`.`ai_group_role_binding`

[2019-05-16 15:45:14.271][MDP][614661][MYSQL][]
SHOW TABLE STATUS LIKE 'ai\_group\_role\_binding'

[2019-05-16 15:45:14.399][MDP][614661][MYSQL][]
SHOW CREATE TABLE `ai_group_role_binding` 

[2019-05-16 15:45:14.516][MDP][614661][MYSQL][]
SHOW FULL COLUMNS FROM `ai_group_role_binding`

[2019-05-16 15:45:14.651][MDP][614661][MYSQL][]
SHOW INDEX FROM `ai_group_role_binding`

[2019-05-16 15:45:14.8][MDP][614661][MYSQL][]
SELECT ACTION_ORDER, EVENT_OBJECT_TABLE, TRIGGER_NAME, EVENT_MANIPULATION, EVENT_OBJECT_TABLE, DEFINER, ACTION_STATEMENT, ACTION_TIMING FROM information_schema.triggers WHERE BINARY event_object_schema = 'mdp' AND BINARY event_object_table = 'ai_group_role_binding' ORDER BY event_object_table

[2019-05-16 15:45:14.961][MDP][614661][MYSQL][]
SELECT TABLE_NAME, PARTITION_NAME, SUBPARTITION_NAME, PARTITION_METHOD, SUBPARTITION_METHOD, PARTITION_EXPRESSION, SUBPARTITION_EXPRESSION, PARTITION_DESCRIPTION, PARTITION_COMMENT, NODEGROUP, TABLESPACE_NAME FROM information_schema.PARTITIONS WHERE NOT ISNULL(PARTITION_NAME) AND TABLE_SCHEMA LIKE 'mdp' AND TABLE_NAME LIKE 'ai_group_role_binding' ORDER BY TABLE_NAME, PARTITION_NAME, PARTITION_ORDINAL_POSITION, SUBPARTITION_ORDINAL_POSITION

[2019-05-16 15:45:15.143][MDP][614661][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-16 15:45:15.293][MDP][614661][MYSQL][]
SELECT DISTINCT(TABLESPACE_NAME) AS TABLESPACE_NAME FROM information_schema.FILES WHERE NOT ISNULL(TABLESPACE_NAME) LIMIT 10000

[2019-05-16 15:45:22.92][MDP][614661][MYSQL][]
SHOW TABLE STATUS LIKE 'ai\_user'

[2019-05-16 15:45:23.143][MDP][614661][MYSQL][]
SHOW CREATE TABLE `ai_user` 

[2019-05-16 15:45:23.306][MDP][614661][MYSQL][]
SHOW FULL COLUMNS FROM `ai_user`

[2019-05-16 15:45:23.446][MDP][614661][MYSQL][]
SHOW INDEX FROM `ai_user`

[2019-05-16 15:45:23.624][MDP][614661][MYSQL][]
SELECT ACTION_ORDER, EVENT_OBJECT_TABLE, TRIGGER_NAME, EVENT_MANIPULATION, EVENT_OBJECT_TABLE, DEFINER, ACTION_STATEMENT, ACTION_TIMING FROM information_schema.triggers WHERE BINARY event_object_schema = 'mdp' AND BINARY event_object_table = 'ai_user' ORDER BY event_object_table

[2019-05-16 15:45:23.8][MDP][614661][MYSQL][]
SELECT TABLE_NAME, PARTITION_NAME, SUBPARTITION_NAME, PARTITION_METHOD, SUBPARTITION_METHOD, PARTITION_EXPRESSION, SUBPARTITION_EXPRESSION, PARTITION_DESCRIPTION, PARTITION_COMMENT, NODEGROUP, TABLESPACE_NAME FROM information_schema.PARTITIONS WHERE NOT ISNULL(PARTITION_NAME) AND TABLE_SCHEMA LIKE 'mdp' AND TABLE_NAME LIKE 'ai_user' ORDER BY TABLE_NAME, PARTITION_NAME, PARTITION_ORDINAL_POSITION, SUBPARTITION_ORDINAL_POSITION

[2019-05-16 15:45:23.967][MDP][614661][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-16 15:45:24.193][MDP][614661][MYSQL][]
SELECT DISTINCT(TABLESPACE_NAME) AS TABLESPACE_NAME FROM information_schema.FILES WHERE NOT ISNULL(TABLESPACE_NAME) LIMIT 10000

[2019-05-16 15:45:44.276][MDP][614661][MYSQL][]
SELECT * FROM `mdp`.`mdp_model` LIMIT 0,1000

[2019-05-16 15:45:44.57][MDP][614677][MYSQL][]
SHOW COLUMNS FROM `mdp`.`mdp_model`

[2019-05-16 15:45:44.643][MDP][614661][MYSQL][]
SHOW TABLE STATUS LIKE 'mdp_model'

[2019-05-16 15:45:44.712][MDP][614661][MYSQL][]
SHOW CREATE TABLE `mdp`.`mdp_model`

[2019-05-16 15:45:47.751][MDP][614661][MYSQL][]
SHOW TABLE STATUS LIKE 'mdp\_model'

[2019-05-16 15:45:47.896][MDP][614661][MYSQL][]
SHOW CREATE TABLE `mdp_model` 

[2019-05-16 15:45:48.025][MDP][614661][MYSQL][]
SHOW FULL COLUMNS FROM `mdp_model`

[2019-05-16 15:45:48.195][MDP][614661][MYSQL][]
SHOW INDEX FROM `mdp_model`

[2019-05-16 15:45:48.359][MDP][614661][MYSQL][]
SELECT ACTION_ORDER, EVENT_OBJECT_TABLE, TRIGGER_NAME, EVENT_MANIPULATION, EVENT_OBJECT_TABLE, DEFINER, ACTION_STATEMENT, ACTION_TIMING FROM information_schema.triggers WHERE BINARY event_object_schema = 'mdp' AND BINARY event_object_table = 'mdp_model' ORDER BY event_object_table

[2019-05-16 15:45:48.539][MDP][614661][MYSQL][]
SELECT TABLE_NAME, PARTITION_NAME, SUBPARTITION_NAME, PARTITION_METHOD, SUBPARTITION_METHOD, PARTITION_EXPRESSION, SUBPARTITION_EXPRESSION, PARTITION_DESCRIPTION, PARTITION_COMMENT, NODEGROUP, TABLESPACE_NAME FROM information_schema.PARTITIONS WHERE NOT ISNULL(PARTITION_NAME) AND TABLE_SCHEMA LIKE 'mdp' AND TABLE_NAME LIKE 'mdp_model' ORDER BY TABLE_NAME, PARTITION_NAME, PARTITION_ORDINAL_POSITION, SUBPARTITION_ORDINAL_POSITION

[2019-05-16 15:45:48.698][MDP][614661][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-16 15:45:48.87][MDP][614661][MYSQL][]
SELECT DISTINCT(TABLESPACE_NAME) AS TABLESPACE_NAME FROM information_schema.FILES WHERE NOT ISNULL(TABLESPACE_NAME) LIMIT 10000

[2019-05-16 15:46:19.717][MDP][614661][MYSQL][]
SELECT COUNT(*) FROM information_schema.TABLES WHERE TABLE_SCHEMA = 'mdp' UNION SELECT COUNT(*) FROM information_schema.COLUMNS WHERE TABLE_SCHEMA = 'mdp' UNION SELECT COUNT(*) FROM information_schema.ROUTINES WHERE ROUTINE_SCHEMA = 'mdp'

[2019-05-16 15:46:19.778][MDP][614677][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-16 15:46:19.909][MDP][614661][MYSQL][]
SELECT TABLE_NAME, CHECK_OPTION, IS_UPDATABLE, SECURITY_TYPE, DEFINER FROM INFORMATION_SCHEMA.VIEWS WHERE TABLE_SCHEMA = 'mdp' ORDER BY TABLE_NAME ASC

[2019-05-16 15:56:42.046][MDP][614661][MYSQL][]
SET PROFILING = 1

[2019-05-16 15:56:42.108][MDP][614661][MYSQL][]
SHOW STATUS

[2019-05-16 15:56:42.182][MDP][614661][MYSQL][]
SHOW STATUS

[2019-05-16 15:56:42.261][MDP][614661][MYSQL][]
SELECT TT.*, '' AS IS_CYCLE_USE
 FROM (
 SELECT T.MODEL_ID MODEL_ID, T.MODEL_NAME MODEL_NAME, T.MODEL_TYPE_ID MODEL_TYPE_ID, T3.MODEL_TYPE_ICON, T.STATUS STATUS, T4.STAGE_ID STAGE_ID, T2.STAGE_ID TASK_EXEC_STAGE, T4.STAGE_NAME STAGE_NAME, T4.STAGE_ICON STAGE_ICON, T2.STAGE_BAR_M STAGE_BAR, T1.TASK_ID, date_format(T.CREATE_TIME, '%Y-%m-%d %H:%i:%s') AS CREATE_TIME, CASE WHEN T2.FIRST_TIME IS NOT NULL THEN date_format(T2.FIRST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(T.CREATE_TIME,'%Y-%m-%d %H:%i:%s') END AS NEW_TIME, CASE WHEN T.MANNER = 7 THEN date_format(T1.END_TIME,'%Y-%m-%d %H:%i:%s') ELSE ( CASE WHEN T2.LAST_TIME IS NOT NULL THEN date_format(T2.LAST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(now(),'%Y-%m-%d %H:%i:%s') END ) END AS END_TIME, T.CREATE_USER, T.MANNER, T.ENGINE, T.BUSINESS_TYPE, MAT.NAME, T.DEV_LANGUAGE, TAR._owner, TAR._group, TAR._tenant, TAR._auth
 FROM MDP_MODEL T
 INNER JOIN (
 SELECT res.res_id, 1 AS _owner, IF(AUTH.res_id IS NULL, -1, 1) AS _auth, 1 AS _group, 1 AS _tenant
 FROM (select t.model_id as res_id, t.model_name as res_name, t.tenant as tenant, t.create_user as res_owner, t.model_type_id as model_scene, t.business_type as busi_type
 FROM mdp_model t) res LEFT OUTER JOIN (
 SELECT res_id
 FROM ai_subject_res_permit
 WHERE res_domain = 'MODEL' AND res_id IS NOT NULL AND ( (subject_type IN (1, 3) AND subject_id = 'admin') OR (subject_type = 2 AND subject_id IN ( '1499742124740' ) ) ) ) auth
 ON res.res_id = auth.res_id
 WHERE res.res_owner = 'admin' OR auth.res_id IS NOT NULL ) TAR
 ON T.model_id=TAR.res_id
 LEFT JOIN (
 SELECT max(task_id) task_id,MAX(end_time) end_time,model_id
 FROM MDP_MODEL_TASK group BY model_id order by create_time ) T1
 ON T.MODEL_ID = T1.MODEL_ID
 LEFT JOIN (select modelSTAGE.MODEL_ID,modelSTAGE.STAGE_ID,modelSTAGE.STAGE_BAR,modelSTAGE.MESSAGE,modelSTAGE.RESULT,modelSTAGE.STATUS, modelSTAGE.FIRST_TIME,modelSTAGE.LAST_TIME,modelSTAGE.STAGE_BAR_M,stage.STAGE_NAME,stage.STAGE_ICON
 FROM (select astage.*,bstage.last_time,bstage.stage_bar_m,bstages.first_time
 FROM MDP_MODEL_STAGE astage, (select max(stage_id)-1 stage_id,max(end_time) last_time,MAX(stage_bar) stage_bar_m,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null group by model_id,task_id) bstage, (SELECT min(stage_id) stage_id,min(start_time) first_time,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null GROUP BY model_id,task_id) bstages
 WHERE astage.model_id=bstage.model_id and astage.model_id=bstages.model_id and bstage.task_id=bstages.task_id) modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id=stage.stage_id) T2
 ON T.MODEL_ID = T2.MODEL_ID
 LEFT JOIN (
 SELECT modelSTAGE.status,stage.STAGE_ID, stage.STAGE_NAME, stage.STAGE_ICON
 FROM mdp_modelstage_map modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id = stage.stage_id ) T4
 ON T.status = T4.status
 LEFT JOIN MDP_MODEL_TYPE T3
 ON T.MODEL_TYPE_ID = T3.MODEL_TYPE_ID
 LEFT JOIN MDP_APPTOPIC_TYPE MAT
 ON T.BUSINESS_TYPE = MAT.id
 WHERE 1=1 AND T3.IS_VALID!=-1 ORDER BY T.CREATE_TIME DESC ) TT GROUP BY TT.MODEL_ID, TT.MODEL_NAME, TT.MODEL_TYPE_ID, TT.MODEL_TYPE_ICON, TT.STAGE_ID, TT.STAGE_NAME, TT.STAGE_ICON, TT.CREATE_TIME ORDER BY NEW_TIME DESC

[2019-05-16 15:56:42.988][MDP][614661][MYSQL][]
SHOW STATUS

[2019-05-16 15:56:43.111][MDP][614661][MYSQL][]
SELECT QUERY_ID, SUM(DURATION) AS SUM_DURATION FROM INFORMATION_SCHEMA.PROFILING GROUP BY QUERY_ID

[2019-05-16 15:56:43.193][MDP][614661][MYSQL][]
SELECT STATE AS `Status`, ROUND(SUM(DURATION),7) AS `Duration`, CONCAT(ROUND(SUM(DURATION)/0.001387*100,3), '') AS `Percentage` FROM INFORMATION_SCHEMA.PROFILING WHERE QUERY_ID=2 GROUP BY SEQ, STATE ORDER BY SEQ

[2019-05-16 15:56:50.511][MDP][614677][MYSQL][]
SELECT COUNT(*) FROM information_schema.TABLES WHERE TABLE_SCHEMA = 'mdp210' UNION SELECT COUNT(*) FROM information_schema.COLUMNS WHERE TABLE_SCHEMA = 'mdp210' UNION SELECT COUNT(*) FROM information_schema.ROUTINES WHERE ROUTINE_SCHEMA = 'mdp210'

[2019-05-16 15:56:50.833][MDP][614833][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-16 15:56:50.967][MDP][614677][MYSQL][]
SELECT TABLE_NAME, CHECK_OPTION, IS_UPDATABLE, SECURITY_TYPE, DEFINER FROM INFORMATION_SCHEMA.VIEWS WHERE TABLE_SCHEMA = 'mdp210' ORDER BY TABLE_NAME ASC

[2019-05-16 15:56:51.608][MDP][614677][MYSQL][]
SET PROFILING = 1

[2019-05-16 15:56:51.675][MDP][614677][MYSQL][]
SHOW STATUS

[2019-05-16 15:56:51.753][MDP][614677][MYSQL][]
SHOW STATUS

[2019-05-16 15:56:51.837][MDP][614677][MYSQL][]
SELECT TT.*, '' AS IS_CYCLE_USE
 FROM (
 SELECT T.MODEL_ID MODEL_ID, T.MODEL_NAME MODEL_NAME, T.MODEL_TYPE_ID MODEL_TYPE_ID, T3.MODEL_TYPE_ICON, T.STATUS STATUS, T4.STAGE_ID STAGE_ID, T2.STAGE_ID TASK_EXEC_STAGE, T4.STAGE_NAME STAGE_NAME, T4.STAGE_ICON STAGE_ICON, T2.STAGE_BAR_M STAGE_BAR, T1.TASK_ID, date_format(T.CREATE_TIME, '%Y-%m-%d %H:%i:%s') AS CREATE_TIME, CASE WHEN T2.FIRST_TIME IS NOT NULL THEN date_format(T2.FIRST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(T.CREATE_TIME,'%Y-%m-%d %H:%i:%s') END AS NEW_TIME, CASE WHEN T.MANNER = 7 THEN date_format(T1.END_TIME,'%Y-%m-%d %H:%i:%s') ELSE ( CASE WHEN T2.LAST_TIME IS NOT NULL THEN date_format(T2.LAST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(now(),'%Y-%m-%d %H:%i:%s') END ) END AS END_TIME, T.CREATE_USER, T.MANNER, T.ENGINE, T.BUSINESS_TYPE, MAT.NAME, T.DEV_LANGUAGE, TAR._owner, TAR._group, TAR._tenant, TAR._auth
 FROM MDP_MODEL T
 INNER JOIN (
 SELECT res.res_id, 1 AS _owner, IF(AUTH.res_id IS NULL, -1, 1) AS _auth, 1 AS _group, 1 AS _tenant
 FROM (select t.model_id as res_id, t.model_name as res_name, t.tenant as tenant, t.create_user as res_owner, t.model_type_id as model_scene, t.business_type as busi_type
 FROM mdp_model t) res LEFT OUTER JOIN (
 SELECT res_id
 FROM ai_subject_res_permit
 WHERE res_domain = 'MODEL' AND res_id IS NOT NULL AND ( (subject_type IN (1, 3) AND subject_id = 'admin') OR (subject_type = 2 AND subject_id IN ( '1499742124740' ) ) ) ) auth
 ON res.res_id = auth.res_id
 WHERE res.res_owner = 'admin' OR auth.res_id IS NOT NULL ) TAR
 ON T.model_id=TAR.res_id
 LEFT JOIN (
 SELECT max(task_id) task_id,MAX(end_time) end_time,model_id
 FROM MDP_MODEL_TASK group BY model_id order by create_time ) T1
 ON T.MODEL_ID = T1.MODEL_ID
 LEFT JOIN (select modelSTAGE.MODEL_ID,modelSTAGE.STAGE_ID,modelSTAGE.STAGE_BAR,modelSTAGE.MESSAGE,modelSTAGE.RESULT,modelSTAGE.STATUS, modelSTAGE.FIRST_TIME,modelSTAGE.LAST_TIME,modelSTAGE.STAGE_BAR_M,stage.STAGE_NAME,stage.STAGE_ICON
 FROM (select astage.*,bstage.last_time,bstage.stage_bar_m,bstages.first_time
 FROM MDP_MODEL_STAGE astage, (select max(stage_id)-1 stage_id,max(end_time) last_time,MAX(stage_bar) stage_bar_m,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null group by model_id,task_id) bstage, (SELECT min(stage_id) stage_id,min(start_time) first_time,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null GROUP BY model_id,task_id) bstages
 WHERE astage.model_id=bstage.model_id and astage.model_id=bstages.model_id and bstage.task_id=bstages.task_id) modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id=stage.stage_id) T2
 ON T.MODEL_ID = T2.MODEL_ID
 LEFT JOIN (
 SELECT modelSTAGE.status,stage.STAGE_ID, stage.STAGE_NAME, stage.STAGE_ICON
 FROM mdp_modelstage_map modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id = stage.stage_id ) T4
 ON T.status = T4.status
 LEFT JOIN MDP_MODEL_TYPE T3
 ON T.MODEL_TYPE_ID = T3.MODEL_TYPE_ID
 LEFT JOIN MDP_APPTOPIC_TYPE MAT
 ON T.BUSINESS_TYPE = MAT.id
 WHERE 1=1 AND T3.IS_VALID!=-1 ORDER BY T.CREATE_TIME DESC ) TT GROUP BY TT.MODEL_ID, TT.MODEL_NAME, TT.MODEL_TYPE_ID, TT.MODEL_TYPE_ICON, TT.STAGE_ID, TT.STAGE_NAME, TT.STAGE_ICON, TT.CREATE_TIME ORDER BY NEW_TIME DESC

[2019-05-16 15:56:52.626][MDP][614677][MYSQL][]
SHOW STATUS

[2019-05-16 15:56:52.701][MDP][614677][MYSQL][]
SELECT QUERY_ID, SUM(DURATION) AS SUM_DURATION FROM INFORMATION_SCHEMA.PROFILING GROUP BY QUERY_ID

[2019-05-16 15:56:52.763][MDP][614677][MYSQL][]
SELECT STATE AS `Status`, ROUND(SUM(DURATION),7) AS `Duration`, CONCAT(ROUND(SUM(DURATION)/0.001208*100,3), '') AS `Percentage` FROM INFORMATION_SCHEMA.PROFILING WHERE QUERY_ID=2 GROUP BY SEQ, STATE ORDER BY SEQ

[2019-05-16 15:56:57.385][MDP][614677][MYSQL][]
SET PROFILING = 1

[2019-05-16 15:56:57.485][MDP][614677][MYSQL][]
SHOW STATUS

[2019-05-16 15:56:57.557][MDP][614677][MYSQL][]
SHOW STATUS

[2019-05-16 15:56:57.646][MDP][614677][MYSQL][]
SELECT TT.*, '' AS IS_CYCLE_USE
 FROM (
 SELECT T.MODEL_ID MODEL_ID, T.MODEL_NAME MODEL_NAME, T.MODEL_TYPE_ID MODEL_TYPE_ID, T3.MODEL_TYPE_ICON, T.STATUS STATUS, T4.STAGE_ID STAGE_ID, T2.STAGE_ID TASK_EXEC_STAGE, T4.STAGE_NAME STAGE_NAME, T4.STAGE_ICON STAGE_ICON, T2.STAGE_BAR_M STAGE_BAR, T1.TASK_ID, date_format(T.CREATE_TIME, '%Y-%m-%d %H:%i:%s') AS CREATE_TIME, CASE WHEN T2.FIRST_TIME IS NOT NULL THEN date_format(T2.FIRST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(T.CREATE_TIME,'%Y-%m-%d %H:%i:%s') END AS NEW_TIME, CASE WHEN T.MANNER = 7 THEN date_format(T1.END_TIME,'%Y-%m-%d %H:%i:%s') ELSE ( CASE WHEN T2.LAST_TIME IS NOT NULL THEN date_format(T2.LAST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(now(),'%Y-%m-%d %H:%i:%s') END ) END AS END_TIME, T.CREATE_USER, T.MANNER, T.ENGINE, T.BUSINESS_TYPE, MAT.NAME, T.DEV_LANGUAGE, TAR._owner, TAR._group, TAR._tenant, TAR._auth
 FROM MDP_MODEL T
 INNER JOIN (
 SELECT res.res_id, 1 AS _owner, IF(AUTH.res_id IS NULL, -1, 1) AS _auth, 1 AS _group, 1 AS _tenant
 FROM (select t.model_id as res_id, t.model_name as res_name, t.tenant as tenant, t.create_user as res_owner, t.model_type_id as model_scene, t.business_type as busi_type
 FROM mdp_model t) res LEFT OUTER JOIN (
 SELECT res_id
 FROM ai_subject_res_permit
 WHERE res_domain = 'MODEL' AND res_id IS NOT NULL AND ( (subject_type IN (1, 3) AND subject_id = 'admin') OR (subject_type = 2 AND subject_id IN ( '1499742124740' ) ) ) ) auth
 ON res.res_id = auth.res_id
 WHERE res.res_owner = 'admin' OR auth.res_id IS NOT NULL ) TAR
 ON T.model_id=TAR.res_id
 LEFT JOIN (
 SELECT max(task_id) task_id,MAX(end_time) end_time,model_id
 FROM MDP_MODEL_TASK group BY model_id order by create_time ) T1
 ON T.MODEL_ID = T1.MODEL_ID
 LEFT JOIN (select modelSTAGE.MODEL_ID,modelSTAGE.STAGE_ID,modelSTAGE.STAGE_BAR,modelSTAGE.MESSAGE,modelSTAGE.RESULT,modelSTAGE.STATUS, modelSTAGE.FIRST_TIME,modelSTAGE.LAST_TIME,modelSTAGE.STAGE_BAR_M,stage.STAGE_NAME,stage.STAGE_ICON
 FROM (select astage.*,bstage.last_time,bstage.stage_bar_m,bstages.first_time
 FROM MDP_MODEL_STAGE astage, (select max(stage_id)-1 stage_id,max(end_time) last_time,MAX(stage_bar) stage_bar_m,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null group by model_id,task_id) bstage, (SELECT min(stage_id) stage_id,min(start_time) first_time,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null GROUP BY model_id,task_id) bstages
 WHERE astage.model_id=bstage.model_id and astage.model_id=bstages.model_id and bstage.task_id=bstages.task_id) modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id=stage.stage_id) T2
 ON T.MODEL_ID = T2.MODEL_ID
 LEFT JOIN (
 SELECT modelSTAGE.status,stage.STAGE_ID, stage.STAGE_NAME, stage.STAGE_ICON
 FROM mdp_modelstage_map modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id = stage.stage_id ) T4
 ON T.status = T4.status
 LEFT JOIN MDP_MODEL_TYPE T3
 ON T.MODEL_TYPE_ID = T3.MODEL_TYPE_ID
 LEFT JOIN MDP_APPTOPIC_TYPE MAT
 ON T.BUSINESS_TYPE = MAT.id
 WHERE 1=1 AND T3.IS_VALID!=-1 ORDER BY T.CREATE_TIME DESC ) TT GROUP BY TT.MODEL_ID, TT.MODEL_NAME, TT.MODEL_TYPE_ID, TT.MODEL_TYPE_ICON, TT.STAGE_ID, TT.STAGE_NAME, TT.STAGE_ICON, TT.CREATE_TIME ORDER BY NEW_TIME DESC

[2019-05-16 15:56:58.395][MDP][614677][MYSQL][]
SHOW STATUS

[2019-05-16 15:56:58.462][MDP][614677][MYSQL][]
SELECT QUERY_ID, SUM(DURATION) AS SUM_DURATION FROM INFORMATION_SCHEMA.PROFILING GROUP BY QUERY_ID

[2019-05-16 15:56:58.528][MDP][614677][MYSQL][]
SELECT STATE AS `Status`, ROUND(SUM(DURATION),7) AS `Duration`, CONCAT(ROUND(SUM(DURATION)/0.001208*100,3), '') AS `Percentage` FROM INFORMATION_SCHEMA.PROFILING WHERE QUERY_ID=2 GROUP BY SEQ, STATE ORDER BY SEQ

[2019-05-16 15:57:18.344][MDP][614677][MYSQL][]
SET PROFILING = 1

[2019-05-16 15:57:18.418][MDP][614677][MYSQL][]
SHOW STATUS

[2019-05-16 15:57:18.502][MDP][614677][MYSQL][]
SHOW STATUS

[2019-05-16 15:57:18.591][MDP][614677][MYSQL][]
SELECT TT.*, '' AS IS_CYCLE_USE
 FROM (
 SELECT T.MODEL_ID MODEL_ID, T.MODEL_NAME MODEL_NAME, T.MODEL_TYPE_ID MODEL_TYPE_ID, T3.MODEL_TYPE_ICON, T.STATUS STATUS, T4.STAGE_ID STAGE_ID, T2.STAGE_ID TASK_EXEC_STAGE, T4.STAGE_NAME STAGE_NAME, T4.STAGE_ICON STAGE_ICON, T2.STAGE_BAR_M STAGE_BAR, T1.TASK_ID, date_format(T.CREATE_TIME, '%Y-%m-%d %H:%i:%s') AS CREATE_TIME, CASE WHEN T2.FIRST_TIME IS NOT NULL THEN date_format(T2.FIRST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(T.CREATE_TIME,'%Y-%m-%d %H:%i:%s') END AS NEW_TIME, CASE WHEN T.MANNER = 7 THEN date_format(T1.END_TIME,'%Y-%m-%d %H:%i:%s') ELSE ( CASE WHEN T2.LAST_TIME IS NOT NULL THEN date_format(T2.LAST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(now(),'%Y-%m-%d %H:%i:%s') END ) END AS END_TIME, T.CREATE_USER, T.MANNER, T.ENGINE, T.BUSINESS_TYPE, MAT.NAME, T.DEV_LANGUAGE, TAR._owner, TAR._group, TAR._tenant, TAR._auth
 FROM MDP_MODEL T
 INNER JOIN (
 SELECT res.res_id, 1 AS _owner, IF(AUTH.res_id IS NULL, -1, 1) AS _auth, 1 AS _group, 1 AS _tenant
 FROM (select t.model_id as res_id, t.model_name as res_name, t.tenant as tenant, t.create_user as res_owner, t.model_type_id as model_scene, t.business_type as busi_type
 FROM mdp_model t) res LEFT OUTER JOIN (
 SELECT res_id
 FROM ai_subject_res_permit
 WHERE res_domain = 'MODEL' AND res_id IS NOT NULL AND ( (subject_type IN (1, 3) AND subject_id = 'admin') OR (subject_type = 2 AND subject_id IN ( '1499742124740' ) ) ) ) auth
 ON res.res_id = auth.res_id
 WHERE res.res_owner = 'admin' OR auth.res_id IS NOT NULL ) TAR
 ON T.model_id=TAR.res_id
 LEFT JOIN (
 SELECT max(task_id) task_id,MAX(end_time) end_time,model_id
 FROM MDP_MODEL_TASK group BY model_id order by create_time ) T1
 ON T.MODEL_ID = T1.MODEL_ID
 LEFT JOIN (select modelSTAGE.MODEL_ID,modelSTAGE.STAGE_ID,modelSTAGE.STAGE_BAR,modelSTAGE.MESSAGE,modelSTAGE.RESULT,modelSTAGE.STATUS, modelSTAGE.FIRST_TIME,modelSTAGE.LAST_TIME,modelSTAGE.STAGE_BAR_M,stage.STAGE_NAME,stage.STAGE_ICON
 FROM (select astage.*,bstage.last_time,bstage.stage_bar_m,bstages.first_time
 FROM MDP_MODEL_STAGE astage, (select max(stage_id)-1 stage_id,max(end_time) last_time,MAX(stage_bar) stage_bar_m,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null group by model_id,task_id) bstage, (SELECT min(stage_id) stage_id,min(start_time) first_time,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null GROUP BY model_id,task_id) bstages
 WHERE astage.model_id=bstage.model_id and astage.model_id=bstages.model_id and bstage.task_id=bstages.task_id) modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id=stage.stage_id) T2
 ON T.MODEL_ID = T2.MODEL_ID
 LEFT JOIN (
 SELECT modelSTAGE.status,stage.STAGE_ID, stage.STAGE_NAME, stage.STAGE_ICON
 FROM mdp_modelstage_map modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id = stage.stage_id ) T4
 ON T.status = T4.status
 LEFT JOIN MDP_MODEL_TYPE T3
 ON T.MODEL_TYPE_ID = T3.MODEL_TYPE_ID
 LEFT JOIN MDP_APPTOPIC_TYPE MAT
 ON T.BUSINESS_TYPE = MAT.id
 WHERE 1=1 AND T3.IS_VALID!=-1 ORDER BY T.CREATE_TIME DESC ) TT GROUP BY TT.MODEL_ID, TT.MODEL_NAME, TT.MODEL_TYPE_ID, TT.MODEL_TYPE_ICON, TT.STAGE_ID, TT.STAGE_NAME, TT.STAGE_ICON, TT.CREATE_TIME ORDER BY NEW_TIME DESC

[2019-05-16 15:57:19.329][MDP][614677][MYSQL][]
SHOW STATUS

[2019-05-16 15:57:19.404][MDP][614677][MYSQL][]
SELECT QUERY_ID, SUM(DURATION) AS SUM_DURATION FROM INFORMATION_SCHEMA.PROFILING GROUP BY QUERY_ID

[2019-05-16 15:57:19.467][MDP][614677][MYSQL][]
SELECT STATE AS `Status`, ROUND(SUM(DURATION),7) AS `Duration`, CONCAT(ROUND(SUM(DURATION)/0.001394*100,3), '') AS `Percentage` FROM INFORMATION_SCHEMA.PROFILING WHERE QUERY_ID=5 GROUP BY SEQ, STATE ORDER BY SEQ

[2019-05-16 15:58:26.203][MDP][614677][MYSQL][]
EXPLAIN SELECT TT.*, '' AS IS_CYCLE_USE
 FROM (
 SELECT T.MODEL_ID MODEL_ID, T.MODEL_NAME MODEL_NAME, T.MODEL_TYPE_ID MODEL_TYPE_ID, T3.MODEL_TYPE_ICON, T.STATUS STATUS, T4.STAGE_ID STAGE_ID, T2.STAGE_ID TASK_EXEC_STAGE, T4.STAGE_NAME STAGE_NAME, T4.STAGE_ICON STAGE_ICON, T2.STAGE_BAR_M STAGE_BAR, T1.TASK_ID, date_format(T.CREATE_TIME, '%Y-%m-%d %H:%i:%s') AS CREATE_TIME, CASE WHEN T2.FIRST_TIME IS NOT NULL THEN date_format(T2.FIRST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(T.CREATE_TIME,'%Y-%m-%d %H:%i:%s') END AS NEW_TIME, CASE WHEN T.MANNER = 7 THEN date_format(T1.END_TIME,'%Y-%m-%d %H:%i:%s') ELSE ( CASE WHEN T2.LAST_TIME IS NOT NULL THEN date_format(T2.LAST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(now(),'%Y-%m-%d %H:%i:%s') END ) END AS END_TIME, T.CREATE_USER, T.MANNER, T.ENGINE, T.BUSINESS_TYPE, MAT.NAME, T.DEV_LANGUAGE, TAR._owner, TAR._group, TAR._tenant, TAR._auth
 FROM MDP_MODEL T
 INNER JOIN (
 SELECT res.res_id, 1 AS _owner, IF(AUTH.res_id IS NULL, -1, 1) AS _auth, 1 AS _group, 1 AS _tenant
 FROM (select t.model_id as res_id, t.model_name as res_name, t.tenant as tenant, t.create_user as res_owner, t.model_type_id as model_scene, t.business_type as busi_type
 FROM mdp_model t) res LEFT OUTER JOIN (
 SELECT res_id
 FROM ai_subject_res_permit
 WHERE res_domain = 'MODEL' AND res_id IS NOT NULL AND ( (subject_type IN (1, 3) AND subject_id = 'admin') OR (subject_type = 2 AND subject_id IN ( '1499742124740' ) ) ) ) auth
 ON res.res_id = auth.res_id
 WHERE res.res_owner = 'admin' OR auth.res_id IS NOT NULL ) TAR
 ON T.model_id=TAR.res_id
 LEFT JOIN (
 SELECT max(task_id) task_id,MAX(end_time) end_time,model_id
 FROM MDP_MODEL_TASK group BY model_id order by create_time ) T1
 ON T.MODEL_ID = T1.MODEL_ID
 LEFT JOIN (select modelSTAGE.MODEL_ID,modelSTAGE.STAGE_ID,modelSTAGE.STAGE_BAR,modelSTAGE.MESSAGE,modelSTAGE.RESULT,modelSTAGE.STATUS, modelSTAGE.FIRST_TIME,modelSTAGE.LAST_TIME,modelSTAGE.STAGE_BAR_M,stage.STAGE_NAME,stage.STAGE_ICON
 FROM (select astage.*,bstage.last_time,bstage.stage_bar_m,bstages.first_time
 FROM MDP_MODEL_STAGE astage, (select max(stage_id)-1 stage_id,max(end_time) last_time,MAX(stage_bar) stage_bar_m,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null group by model_id,task_id) bstage, (SELECT min(stage_id) stage_id,min(start_time) first_time,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null GROUP BY model_id,task_id) bstages
 WHERE astage.model_id=bstage.model_id and astage.model_id=bstages.model_id and bstage.task_id=bstages.task_id) modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id=stage.stage_id) T2
 ON T.MODEL_ID = T2.MODEL_ID
 LEFT JOIN (
 SELECT modelSTAGE.status,stage.STAGE_ID, stage.STAGE_NAME, stage.STAGE_ICON
 FROM mdp_modelstage_map modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id = stage.stage_id ) T4
 ON T.status = T4.status
 LEFT JOIN MDP_MODEL_TYPE T3
 ON T.MODEL_TYPE_ID = T3.MODEL_TYPE_ID
 LEFT JOIN MDP_APPTOPIC_TYPE MAT
 ON T.BUSINESS_TYPE = MAT.id
 WHERE 1=1 AND T3.IS_VALID!=-1 ORDER BY T.CREATE_TIME DESC ) TT GROUP BY TT.MODEL_ID, TT.MODEL_NAME, TT.MODEL_TYPE_ID, TT.MODEL_TYPE_ICON, TT.STAGE_ID, TT.STAGE_NAME, TT.STAGE_ICON, TT.CREATE_TIME ORDER BY NEW_TIME DESC

[2019-05-16 15:58:28.922][MDP][614677][MYSQL][]
EXPLAIN SELECT TT.*, '' AS IS_CYCLE_USE
 FROM (
 SELECT T.MODEL_ID MODEL_ID, T.MODEL_NAME MODEL_NAME, T.MODEL_TYPE_ID MODEL_TYPE_ID, T3.MODEL_TYPE_ICON, T.STATUS STATUS, T4.STAGE_ID STAGE_ID, T2.STAGE_ID TASK_EXEC_STAGE, T4.STAGE_NAME STAGE_NAME, T4.STAGE_ICON STAGE_ICON, T2.STAGE_BAR_M STAGE_BAR, T1.TASK_ID, date_format(T.CREATE_TIME, '%Y-%m-%d %H:%i:%s') AS CREATE_TIME, CASE WHEN T2.FIRST_TIME IS NOT NULL THEN date_format(T2.FIRST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(T.CREATE_TIME,'%Y-%m-%d %H:%i:%s') END AS NEW_TIME, CASE WHEN T.MANNER = 7 THEN date_format(T1.END_TIME,'%Y-%m-%d %H:%i:%s') ELSE ( CASE WHEN T2.LAST_TIME IS NOT NULL THEN date_format(T2.LAST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(now(),'%Y-%m-%d %H:%i:%s') END ) END AS END_TIME, T.CREATE_USER, T.MANNER, T.ENGINE, T.BUSINESS_TYPE, MAT.NAME, T.DEV_LANGUAGE, TAR._owner, TAR._group, TAR._tenant, TAR._auth
 FROM MDP_MODEL T
 INNER JOIN (
 SELECT res.res_id, 1 AS _owner, IF(AUTH.res_id IS NULL, -1, 1) AS _auth, 1 AS _group, 1 AS _tenant
 FROM (select t.model_id as res_id, t.model_name as res_name, t.tenant as tenant, t.create_user as res_owner, t.model_type_id as model_scene, t.business_type as busi_type
 FROM mdp_model t) res LEFT OUTER JOIN (
 SELECT res_id
 FROM ai_subject_res_permit
 WHERE res_domain = 'MODEL' AND res_id IS NOT NULL AND ( (subject_type IN (1, 3) AND subject_id = 'admin') OR (subject_type = 2 AND subject_id IN ( '1499742124740' ) ) ) ) auth
 ON res.res_id = auth.res_id
 WHERE res.res_owner = 'admin' OR auth.res_id IS NOT NULL ) TAR
 ON T.model_id=TAR.res_id
 LEFT JOIN (
 SELECT max(task_id) task_id,MAX(end_time) end_time,model_id
 FROM MDP_MODEL_TASK group BY model_id order by create_time ) T1
 ON T.MODEL_ID = T1.MODEL_ID
 LEFT JOIN (select modelSTAGE.MODEL_ID,modelSTAGE.STAGE_ID,modelSTAGE.STAGE_BAR,modelSTAGE.MESSAGE,modelSTAGE.RESULT,modelSTAGE.STATUS, modelSTAGE.FIRST_TIME,modelSTAGE.LAST_TIME,modelSTAGE.STAGE_BAR_M,stage.STAGE_NAME,stage.STAGE_ICON
 FROM (select astage.*,bstage.last_time,bstage.stage_bar_m,bstages.first_time
 FROM MDP_MODEL_STAGE astage, (select max(stage_id)-1 stage_id,max(end_time) last_time,MAX(stage_bar) stage_bar_m,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null group by model_id,task_id) bstage, (SELECT min(stage_id) stage_id,min(start_time) first_time,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null GROUP BY model_id,task_id) bstages
 WHERE astage.model_id=bstage.model_id and astage.model_id=bstages.model_id and bstage.task_id=bstages.task_id) modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id=stage.stage_id) T2
 ON T.MODEL_ID = T2.MODEL_ID
 LEFT JOIN (
 SELECT modelSTAGE.status,stage.STAGE_ID, stage.STAGE_NAME, stage.STAGE_ICON
 FROM mdp_modelstage_map modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id = stage.stage_id ) T4
 ON T.status = T4.status
 LEFT JOIN MDP_MODEL_TYPE T3
 ON T.MODEL_TYPE_ID = T3.MODEL_TYPE_ID
 LEFT JOIN MDP_APPTOPIC_TYPE MAT
 ON T.BUSINESS_TYPE = MAT.id
 WHERE 1=1 AND T3.IS_VALID!=-1 ORDER BY T.CREATE_TIME DESC ) TT GROUP BY TT.MODEL_ID, TT.MODEL_NAME, TT.MODEL_TYPE_ID, TT.MODEL_TYPE_ICON, TT.STAGE_ID, TT.STAGE_NAME, TT.STAGE_ICON, TT.CREATE_TIME ORDER BY NEW_TIME DESC

[2019-05-16 15:59:20.95][MDP][614677][MYSQL][]
EXPLAIN SELECT TT.*, '' AS IS_CYCLE_USE
 FROM (
 SELECT T.MODEL_ID MODEL_ID, T.MODEL_NAME MODEL_NAME, T.MODEL_TYPE_ID MODEL_TYPE_ID, T3.MODEL_TYPE_ICON, T.STATUS STATUS, T4.STAGE_ID STAGE_ID, T2.STAGE_ID TASK_EXEC_STAGE, T4.STAGE_NAME STAGE_NAME, T4.STAGE_ICON STAGE_ICON, T2.STAGE_BAR_M STAGE_BAR, T1.TASK_ID, date_format(T.CREATE_TIME, '%Y-%m-%d %H:%i:%s') AS CREATE_TIME, CASE WHEN T2.FIRST_TIME IS NOT NULL THEN date_format(T2.FIRST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(T.CREATE_TIME,'%Y-%m-%d %H:%i:%s') END AS NEW_TIME, CASE WHEN T.MANNER = 7 THEN date_format(T1.END_TIME,'%Y-%m-%d %H:%i:%s') ELSE ( CASE WHEN T2.LAST_TIME IS NOT NULL THEN date_format(T2.LAST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(now(),'%Y-%m-%d %H:%i:%s') END ) END AS END_TIME, T.CREATE_USER, T.MANNER, T.ENGINE, T.BUSINESS_TYPE, MAT.NAME, T.DEV_LANGUAGE, TAR._owner, TAR._group, TAR._tenant, TAR._auth
 FROM MDP_MODEL T
 INNER JOIN (
 SELECT res.res_id, 1 AS _owner, IF(AUTH.res_id IS NULL, -1, 1) AS _auth, 1 AS _group, 1 AS _tenant
 FROM (select t.model_id as res_id, t.model_name as res_name, t.tenant as tenant, t.create_user as res_owner, t.model_type_id as model_scene, t.business_type as busi_type
 FROM mdp_model t) res LEFT OUTER JOIN (
 SELECT res_id
 FROM ai_subject_res_permit
 WHERE res_domain = 'MODEL' AND res_id IS NOT NULL AND ( (subject_type IN (1, 3) AND subject_id = 'admin') OR (subject_type = 2 AND subject_id IN ( '1499742124740' ) ) ) ) auth
 ON res.res_id = auth.res_id
 WHERE res.res_owner = 'admin' OR auth.res_id IS NOT NULL ) TAR
 ON T.model_id=TAR.res_id
 LEFT JOIN (
 SELECT max(task_id) task_id,MAX(end_time) end_time,model_id
 FROM MDP_MODEL_TASK group BY model_id order by create_time ) T1
 ON T.MODEL_ID = T1.MODEL_ID
 LEFT JOIN (select modelSTAGE.MODEL_ID,modelSTAGE.STAGE_ID,modelSTAGE.STAGE_BAR,modelSTAGE.MESSAGE,modelSTAGE.RESULT,modelSTAGE.STATUS, modelSTAGE.FIRST_TIME,modelSTAGE.LAST_TIME,modelSTAGE.STAGE_BAR_M,stage.STAGE_NAME,stage.STAGE_ICON
 FROM (select astage.*,bstage.last_time,bstage.stage_bar_m,bstages.first_time
 FROM MDP_MODEL_STAGE astage, (select max(stage_id)-1 stage_id,max(end_time) last_time,MAX(stage_bar) stage_bar_m,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null group by model_id,task_id) bstage, (SELECT min(stage_id) stage_id,min(start_time) first_time,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null GROUP BY model_id,task_id) bstages
 WHERE astage.model_id=bstage.model_id and astage.model_id=bstages.model_id and bstage.task_id=bstages.task_id) modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id=stage.stage_id) T2
 ON T.MODEL_ID = T2.MODEL_ID
 LEFT JOIN (
 SELECT modelSTAGE.status,stage.STAGE_ID, stage.STAGE_NAME, stage.STAGE_ICON
 FROM mdp_modelstage_map modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id = stage.stage_id ) T4
 ON T.status = T4.status
 LEFT JOIN MDP_MODEL_TYPE T3
 ON T.MODEL_TYPE_ID = T3.MODEL_TYPE_ID
 LEFT JOIN MDP_APPTOPIC_TYPE MAT
 ON T.BUSINESS_TYPE = MAT.id
 WHERE 1=1 AND T3.IS_VALID!=-1 ORDER BY T.CREATE_TIME DESC ) TT GROUP BY TT.MODEL_ID, TT.MODEL_NAME, TT.MODEL_TYPE_ID, TT.MODEL_TYPE_ICON, TT.STAGE_ID, TT.STAGE_NAME, TT.STAGE_ICON, TT.CREATE_TIME ORDER BY NEW_TIME DESC

[2019-05-16 15:59:22.339][MDP][614677][MYSQL][]
EXPLAIN SELECT TT.*, '' AS IS_CYCLE_USE
 FROM (
 SELECT T.MODEL_ID MODEL_ID, T.MODEL_NAME MODEL_NAME, T.MODEL_TYPE_ID MODEL_TYPE_ID, T3.MODEL_TYPE_ICON, T.STATUS STATUS, T4.STAGE_ID STAGE_ID, T2.STAGE_ID TASK_EXEC_STAGE, T4.STAGE_NAME STAGE_NAME, T4.STAGE_ICON STAGE_ICON, T2.STAGE_BAR_M STAGE_BAR, T1.TASK_ID, date_format(T.CREATE_TIME, '%Y-%m-%d %H:%i:%s') AS CREATE_TIME, CASE WHEN T2.FIRST_TIME IS NOT NULL THEN date_format(T2.FIRST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(T.CREATE_TIME,'%Y-%m-%d %H:%i:%s') END AS NEW_TIME, CASE WHEN T.MANNER = 7 THEN date_format(T1.END_TIME,'%Y-%m-%d %H:%i:%s') ELSE ( CASE WHEN T2.LAST_TIME IS NOT NULL THEN date_format(T2.LAST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(now(),'%Y-%m-%d %H:%i:%s') END ) END AS END_TIME, T.CREATE_USER, T.MANNER, T.ENGINE, T.BUSINESS_TYPE, MAT.NAME, T.DEV_LANGUAGE, TAR._owner, TAR._group, TAR._tenant, TAR._auth
 FROM MDP_MODEL T
 INNER JOIN (
 SELECT res.res_id, 1 AS _owner, IF(AUTH.res_id IS NULL, -1, 1) AS _auth, 1 AS _group, 1 AS _tenant
 FROM (select t.model_id as res_id, t.model_name as res_name, t.tenant as tenant, t.create_user as res_owner, t.model_type_id as model_scene, t.business_type as busi_type
 FROM mdp_model t) res LEFT OUTER JOIN (
 SELECT res_id
 FROM ai_subject_res_permit
 WHERE res_domain = 'MODEL' AND res_id IS NOT NULL AND ( (subject_type IN (1, 3) AND subject_id = 'admin') OR (subject_type = 2 AND subject_id IN ( '1499742124740' ) ) ) ) auth
 ON res.res_id = auth.res_id
 WHERE res.res_owner = 'admin' OR auth.res_id IS NOT NULL ) TAR
 ON T.model_id=TAR.res_id
 LEFT JOIN (
 SELECT max(task_id) task_id,MAX(end_time) end_time,model_id
 FROM MDP_MODEL_TASK group BY model_id order by create_time ) T1
 ON T.MODEL_ID = T1.MODEL_ID
 LEFT JOIN (select modelSTAGE.MODEL_ID,modelSTAGE.STAGE_ID,modelSTAGE.STAGE_BAR,modelSTAGE.MESSAGE,modelSTAGE.RESULT,modelSTAGE.STATUS, modelSTAGE.FIRST_TIME,modelSTAGE.LAST_TIME,modelSTAGE.STAGE_BAR_M,stage.STAGE_NAME,stage.STAGE_ICON
 FROM (select astage.*,bstage.last_time,bstage.stage_bar_m,bstages.first_time
 FROM MDP_MODEL_STAGE astage, (select max(stage_id)-1 stage_id,max(end_time) last_time,MAX(stage_bar) stage_bar_m,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null group by model_id,task_id) bstage, (SELECT min(stage_id) stage_id,min(start_time) first_time,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null GROUP BY model_id,task_id) bstages
 WHERE astage.model_id=bstage.model_id and astage.model_id=bstages.model_id and bstage.task_id=bstages.task_id) modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id=stage.stage_id) T2
 ON T.MODEL_ID = T2.MODEL_ID
 LEFT JOIN (
 SELECT modelSTAGE.status,stage.STAGE_ID, stage.STAGE_NAME, stage.STAGE_ICON
 FROM mdp_modelstage_map modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id = stage.stage_id ) T4
 ON T.status = T4.status
 LEFT JOIN MDP_MODEL_TYPE T3
 ON T.MODEL_TYPE_ID = T3.MODEL_TYPE_ID
 LEFT JOIN MDP_APPTOPIC_TYPE MAT
 ON T.BUSINESS_TYPE = MAT.id
 WHERE 1=1 AND T3.IS_VALID!=-1 ORDER BY T.CREATE_TIME DESC ) TT GROUP BY TT.MODEL_ID, TT.MODEL_NAME, TT.MODEL_TYPE_ID, TT.MODEL_TYPE_ICON, TT.STAGE_ID, TT.STAGE_NAME, TT.STAGE_ICON, TT.CREATE_TIME ORDER BY NEW_TIME DESC

[2019-05-16 15:59:23.506][MDP][614677][MYSQL][]
EXPLAIN SELECT TT.*, '' AS IS_CYCLE_USE
 FROM (
 SELECT T.MODEL_ID MODEL_ID, T.MODEL_NAME MODEL_NAME, T.MODEL_TYPE_ID MODEL_TYPE_ID, T3.MODEL_TYPE_ICON, T.STATUS STATUS, T4.STAGE_ID STAGE_ID, T2.STAGE_ID TASK_EXEC_STAGE, T4.STAGE_NAME STAGE_NAME, T4.STAGE_ICON STAGE_ICON, T2.STAGE_BAR_M STAGE_BAR, T1.TASK_ID, date_format(T.CREATE_TIME, '%Y-%m-%d %H:%i:%s') AS CREATE_TIME, CASE WHEN T2.FIRST_TIME IS NOT NULL THEN date_format(T2.FIRST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(T.CREATE_TIME,'%Y-%m-%d %H:%i:%s') END AS NEW_TIME, CASE WHEN T.MANNER = 7 THEN date_format(T1.END_TIME,'%Y-%m-%d %H:%i:%s') ELSE ( CASE WHEN T2.LAST_TIME IS NOT NULL THEN date_format(T2.LAST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(now(),'%Y-%m-%d %H:%i:%s') END ) END AS END_TIME, T.CREATE_USER, T.MANNER, T.ENGINE, T.BUSINESS_TYPE, MAT.NAME, T.DEV_LANGUAGE, TAR._owner, TAR._group, TAR._tenant, TAR._auth
 FROM MDP_MODEL T
 INNER JOIN (
 SELECT res.res_id, 1 AS _owner, IF(AUTH.res_id IS NULL, -1, 1) AS _auth, 1 AS _group, 1 AS _tenant
 FROM (select t.model_id as res_id, t.model_name as res_name, t.tenant as tenant, t.create_user as res_owner, t.model_type_id as model_scene, t.business_type as busi_type
 FROM mdp_model t) res LEFT OUTER JOIN (
 SELECT res_id
 FROM ai_subject_res_permit
 WHERE res_domain = 'MODEL' AND res_id IS NOT NULL AND ( (subject_type IN (1, 3) AND subject_id = 'admin') OR (subject_type = 2 AND subject_id IN ( '1499742124740' ) ) ) ) auth
 ON res.res_id = auth.res_id
 WHERE res.res_owner = 'admin' OR auth.res_id IS NOT NULL ) TAR
 ON T.model_id=TAR.res_id
 LEFT JOIN (
 SELECT max(task_id) task_id,MAX(end_time) end_time,model_id
 FROM MDP_MODEL_TASK group BY model_id order by create_time ) T1
 ON T.MODEL_ID = T1.MODEL_ID
 LEFT JOIN (select modelSTAGE.MODEL_ID,modelSTAGE.STAGE_ID,modelSTAGE.STAGE_BAR,modelSTAGE.MESSAGE,modelSTAGE.RESULT,modelSTAGE.STATUS, modelSTAGE.FIRST_TIME,modelSTAGE.LAST_TIME,modelSTAGE.STAGE_BAR_M,stage.STAGE_NAME,stage.STAGE_ICON
 FROM (select astage.*,bstage.last_time,bstage.stage_bar_m,bstages.first_time
 FROM MDP_MODEL_STAGE astage, (select max(stage_id)-1 stage_id,max(end_time) last_time,MAX(stage_bar) stage_bar_m,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null group by model_id,task_id) bstage, (SELECT min(stage_id) stage_id,min(start_time) first_time,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null GROUP BY model_id,task_id) bstages
 WHERE astage.model_id=bstage.model_id and astage.model_id=bstages.model_id and bstage.task_id=bstages.task_id) modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id=stage.stage_id) T2
 ON T.MODEL_ID = T2.MODEL_ID
 LEFT JOIN (
 SELECT modelSTAGE.status,stage.STAGE_ID, stage.STAGE_NAME, stage.STAGE_ICON
 FROM mdp_modelstage_map modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id = stage.stage_id ) T4
 ON T.status = T4.status
 LEFT JOIN MDP_MODEL_TYPE T3
 ON T.MODEL_TYPE_ID = T3.MODEL_TYPE_ID
 LEFT JOIN MDP_APPTOPIC_TYPE MAT
 ON T.BUSINESS_TYPE = MAT.id
 WHERE 1=1 AND T3.IS_VALID!=-1 ORDER BY T.CREATE_TIME DESC ) TT GROUP BY TT.MODEL_ID, TT.MODEL_NAME, TT.MODEL_TYPE_ID, TT.MODEL_TYPE_ICON, TT.STAGE_ID, TT.STAGE_NAME, TT.STAGE_ICON, TT.CREATE_TIME ORDER BY NEW_TIME DESC

[2019-05-16 15:59:24.705][MDP][614677][MYSQL][]
EXPLAIN SELECT TT.*, '' AS IS_CYCLE_USE
 FROM (
 SELECT T.MODEL_ID MODEL_ID, T.MODEL_NAME MODEL_NAME, T.MODEL_TYPE_ID MODEL_TYPE_ID, T3.MODEL_TYPE_ICON, T.STATUS STATUS, T4.STAGE_ID STAGE_ID, T2.STAGE_ID TASK_EXEC_STAGE, T4.STAGE_NAME STAGE_NAME, T4.STAGE_ICON STAGE_ICON, T2.STAGE_BAR_M STAGE_BAR, T1.TASK_ID, date_format(T.CREATE_TIME, '%Y-%m-%d %H:%i:%s') AS CREATE_TIME, CASE WHEN T2.FIRST_TIME IS NOT NULL THEN date_format(T2.FIRST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(T.CREATE_TIME,'%Y-%m-%d %H:%i:%s') END AS NEW_TIME, CASE WHEN T.MANNER = 7 THEN date_format(T1.END_TIME,'%Y-%m-%d %H:%i:%s') ELSE ( CASE WHEN T2.LAST_TIME IS NOT NULL THEN date_format(T2.LAST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(now(),'%Y-%m-%d %H:%i:%s') END ) END AS END_TIME, T.CREATE_USER, T.MANNER, T.ENGINE, T.BUSINESS_TYPE, MAT.NAME, T.DEV_LANGUAGE, TAR._owner, TAR._group, TAR._tenant, TAR._auth
 FROM MDP_MODEL T
 INNER JOIN (
 SELECT res.res_id, 1 AS _owner, IF(AUTH.res_id IS NULL, -1, 1) AS _auth, 1 AS _group, 1 AS _tenant
 FROM (select t.model_id as res_id, t.model_name as res_name, t.tenant as tenant, t.create_user as res_owner, t.model_type_id as model_scene, t.business_type as busi_type
 FROM mdp_model t) res LEFT OUTER JOIN (
 SELECT res_id
 FROM ai_subject_res_permit
 WHERE res_domain = 'MODEL' AND res_id IS NOT NULL AND ( (subject_type IN (1, 3) AND subject_id = 'admin') OR (subject_type = 2 AND subject_id IN ( '1499742124740' ) ) ) ) auth
 ON res.res_id = auth.res_id
 WHERE res.res_owner = 'admin' OR auth.res_id IS NOT NULL ) TAR
 ON T.model_id=TAR.res_id
 LEFT JOIN (
 SELECT max(task_id) task_id,MAX(end_time) end_time,model_id
 FROM MDP_MODEL_TASK group BY model_id order by create_time ) T1
 ON T.MODEL_ID = T1.MODEL_ID
 LEFT JOIN (select modelSTAGE.MODEL_ID,modelSTAGE.STAGE_ID,modelSTAGE.STAGE_BAR,modelSTAGE.MESSAGE,modelSTAGE.RESULT,modelSTAGE.STATUS, modelSTAGE.FIRST_TIME,modelSTAGE.LAST_TIME,modelSTAGE.STAGE_BAR_M,stage.STAGE_NAME,stage.STAGE_ICON
 FROM (select astage.*,bstage.last_time,bstage.stage_bar_m,bstages.first_time
 FROM MDP_MODEL_STAGE astage, (select max(stage_id)-1 stage_id,max(end_time) last_time,MAX(stage_bar) stage_bar_m,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null group by model_id,task_id) bstage, (SELECT min(stage_id) stage_id,min(start_time) first_time,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null GROUP BY model_id,task_id) bstages
 WHERE astage.model_id=bstage.model_id and astage.model_id=bstages.model_id and bstage.task_id=bstages.task_id) modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id=stage.stage_id) T2
 ON T.MODEL_ID = T2.MODEL_ID
 LEFT JOIN (
 SELECT modelSTAGE.status,stage.STAGE_ID, stage.STAGE_NAME, stage.STAGE_ICON
 FROM mdp_modelstage_map modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id = stage.stage_id ) T4
 ON T.status = T4.status
 LEFT JOIN MDP_MODEL_TYPE T3
 ON T.MODEL_TYPE_ID = T3.MODEL_TYPE_ID
 LEFT JOIN MDP_APPTOPIC_TYPE MAT
 ON T.BUSINESS_TYPE = MAT.id
 WHERE 1=1 AND T3.IS_VALID!=-1 ORDER BY T.CREATE_TIME DESC ) TT GROUP BY TT.MODEL_ID, TT.MODEL_NAME, TT.MODEL_TYPE_ID, TT.MODEL_TYPE_ICON, TT.STAGE_ID, TT.STAGE_NAME, TT.STAGE_ICON, TT.CREATE_TIME ORDER BY NEW_TIME DESC

[2019-05-16 15:59:25.901][MDP][614677][MYSQL][]
EXPLAIN SELECT TT.*, '' AS IS_CYCLE_USE
 FROM (
 SELECT T.MODEL_ID MODEL_ID, T.MODEL_NAME MODEL_NAME, T.MODEL_TYPE_ID MODEL_TYPE_ID, T3.MODEL_TYPE_ICON, T.STATUS STATUS, T4.STAGE_ID STAGE_ID, T2.STAGE_ID TASK_EXEC_STAGE, T4.STAGE_NAME STAGE_NAME, T4.STAGE_ICON STAGE_ICON, T2.STAGE_BAR_M STAGE_BAR, T1.TASK_ID, date_format(T.CREATE_TIME, '%Y-%m-%d %H:%i:%s') AS CREATE_TIME, CASE WHEN T2.FIRST_TIME IS NOT NULL THEN date_format(T2.FIRST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(T.CREATE_TIME,'%Y-%m-%d %H:%i:%s') END AS NEW_TIME, CASE WHEN T.MANNER = 7 THEN date_format(T1.END_TIME,'%Y-%m-%d %H:%i:%s') ELSE ( CASE WHEN T2.LAST_TIME IS NOT NULL THEN date_format(T2.LAST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(now(),'%Y-%m-%d %H:%i:%s') END ) END AS END_TIME, T.CREATE_USER, T.MANNER, T.ENGINE, T.BUSINESS_TYPE, MAT.NAME, T.DEV_LANGUAGE, TAR._owner, TAR._group, TAR._tenant, TAR._auth
 FROM MDP_MODEL T
 INNER JOIN (
 SELECT res.res_id, 1 AS _owner, IF(AUTH.res_id IS NULL, -1, 1) AS _auth, 1 AS _group, 1 AS _tenant
 FROM (select t.model_id as res_id, t.model_name as res_name, t.tenant as tenant, t.create_user as res_owner, t.model_type_id as model_scene, t.business_type as busi_type
 FROM mdp_model t) res LEFT OUTER JOIN (
 SELECT res_id
 FROM ai_subject_res_permit
 WHERE res_domain = 'MODEL' AND res_id IS NOT NULL AND ( (subject_type IN (1, 3) AND subject_id = 'admin') OR (subject_type = 2 AND subject_id IN ( '1499742124740' ) ) ) ) auth
 ON res.res_id = auth.res_id
 WHERE res.res_owner = 'admin' OR auth.res_id IS NOT NULL ) TAR
 ON T.model_id=TAR.res_id
 LEFT JOIN (
 SELECT max(task_id) task_id,MAX(end_time) end_time,model_id
 FROM MDP_MODEL_TASK group BY model_id order by create_time ) T1
 ON T.MODEL_ID = T1.MODEL_ID
 LEFT JOIN (select modelSTAGE.MODEL_ID,modelSTAGE.STAGE_ID,modelSTAGE.STAGE_BAR,modelSTAGE.MESSAGE,modelSTAGE.RESULT,modelSTAGE.STATUS, modelSTAGE.FIRST_TIME,modelSTAGE.LAST_TIME,modelSTAGE.STAGE_BAR_M,stage.STAGE_NAME,stage.STAGE_ICON
 FROM (select astage.*,bstage.last_time,bstage.stage_bar_m,bstages.first_time
 FROM MDP_MODEL_STAGE astage, (select max(stage_id)-1 stage_id,max(end_time) last_time,MAX(stage_bar) stage_bar_m,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null group by model_id,task_id) bstage, (SELECT min(stage_id) stage_id,min(start_time) first_time,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null GROUP BY model_id,task_id) bstages
 WHERE astage.model_id=bstage.model_id and astage.model_id=bstages.model_id and bstage.task_id=bstages.task_id) modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id=stage.stage_id) T2
 ON T.MODEL_ID = T2.MODEL_ID
 LEFT JOIN (
 SELECT modelSTAGE.status,stage.STAGE_ID, stage.STAGE_NAME, stage.STAGE_ICON
 FROM mdp_modelstage_map modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id = stage.stage_id ) T4
 ON T.status = T4.status
 LEFT JOIN MDP_MODEL_TYPE T3
 ON T.MODEL_TYPE_ID = T3.MODEL_TYPE_ID
 LEFT JOIN MDP_APPTOPIC_TYPE MAT
 ON T.BUSINESS_TYPE = MAT.id
 WHERE 1=1 AND T3.IS_VALID!=-1 ORDER BY T.CREATE_TIME DESC ) TT GROUP BY TT.MODEL_ID, TT.MODEL_NAME, TT.MODEL_TYPE_ID, TT.MODEL_TYPE_ICON, TT.STAGE_ID, TT.STAGE_NAME, TT.STAGE_ICON, TT.CREATE_TIME ORDER BY NEW_TIME DESC

[2019-05-16 16:20:59.445][MDP][614677][MYSQL][]
SET PROFILING = 1

[2019-05-16 16:20:59.508][MDP][614677][MYSQL][]
SHOW STATUS

[2019-05-16 16:20:59.625][MDP][614677][MYSQL][]
SHOW STATUS

[2019-05-16 16:20:59.719][MDP][614677][MYSQL][]
SELECT TT.*, '' AS IS_CYCLE_USE
 FROM (
 SELECT T.MODEL_ID MODEL_ID, T.MODEL_NAME MODEL_NAME, T.MODEL_TYPE_ID MODEL_TYPE_ID, T3.MODEL_TYPE_ICON, T.STATUS STATUS, T4.STAGE_ID STAGE_ID, T2.STAGE_ID TASK_EXEC_STAGE, T4.STAGE_NAME STAGE_NAME, T4.STAGE_ICON STAGE_ICON, T2.STAGE_BAR_M STAGE_BAR, T1.TASK_ID, date_format(T.CREATE_TIME, '%Y-%m-%d %H:%i:%s') AS CREATE_TIME, CASE WHEN T2.FIRST_TIME IS NOT NULL THEN date_format(T2.FIRST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(T.CREATE_TIME,'%Y-%m-%d %H:%i:%s') END AS NEW_TIME, CASE WHEN T.MANNER = 7 THEN date_format(T1.END_TIME,'%Y-%m-%d %H:%i:%s') ELSE ( CASE WHEN T2.LAST_TIME IS NOT NULL THEN date_format(T2.LAST_TIME,'%Y-%m-%d %H:%i:%s') ELSE date_format(now(),'%Y-%m-%d %H:%i:%s') END ) END AS END_TIME, T.CREATE_USER, T.MANNER, T.ENGINE, T.BUSINESS_TYPE, MAT.NAME, T.DEV_LANGUAGE, TAR._owner, TAR._group, TAR._tenant, TAR._auth
 FROM MDP_MODEL T
 INNER JOIN (
 SELECT res.res_id, 1 AS _owner, IF(AUTH.res_id IS NULL, -1, 1) AS _auth, 1 AS _group, 1 AS _tenant
 FROM (select t.model_id as res_id, t.model_name as res_name, t.tenant as tenant, t.create_user as res_owner, t.model_type_id as model_scene, t.business_type as busi_type
 FROM mdp_model t) res LEFT OUTER JOIN (
 SELECT res_id
 FROM ai_subject_res_permit
 WHERE res_domain = 'MODEL' AND res_id IS NOT NULL AND ( (subject_type IN (1, 3) AND subject_id = 'admin') OR (subject_type = 2 AND subject_id IN ( '1499742124740' ) ) ) ) auth
 ON res.res_id = auth.res_id
 WHERE res.res_owner = 'admin' OR auth.res_id IS NOT NULL ) TAR
 ON T.model_id=TAR.res_id
 LEFT JOIN (
 SELECT max(task_id) task_id,MAX(end_time) end_time,model_id
 FROM MDP_MODEL_TASK group BY model_id order by create_time ) T1
 ON T.MODEL_ID = T1.MODEL_ID
 LEFT JOIN (select modelSTAGE.MODEL_ID,modelSTAGE.STAGE_ID,modelSTAGE.STAGE_BAR,modelSTAGE.MESSAGE,modelSTAGE.RESULT,modelSTAGE.STATUS, modelSTAGE.FIRST_TIME,modelSTAGE.LAST_TIME,modelSTAGE.STAGE_BAR_M,stage.STAGE_NAME,stage.STAGE_ICON
 FROM (select astage.*,bstage.last_time,bstage.stage_bar_m,bstages.first_time
 FROM MDP_MODEL_STAGE astage, (select max(stage_id)-1 stage_id,max(end_time) last_time,MAX(stage_bar) stage_bar_m,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null group by model_id,task_id) bstage, (SELECT min(stage_id) stage_id,min(start_time) first_time,model_id,task_id
 FROM MDP_MODEL_STAGE
 WHERE parent_id is not null GROUP BY model_id,task_id) bstages
 WHERE astage.model_id=bstage.model_id and astage.model_id=bstages.model_id and bstage.task_id=bstages.task_id) modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id=stage.stage_id) T2
 ON T.MODEL_ID = T2.MODEL_ID
 LEFT JOIN (
 SELECT modelSTAGE.status,stage.STAGE_ID, stage.STAGE_NAME, stage.STAGE_ICON
 FROM mdp_modelstage_map modelSTAGE
 LEFT JOIN mdp_stage stage
 ON modelSTAGE.stage_id = stage.stage_id ) T4
 ON T.status = T4.status
 LEFT JOIN MDP_MODEL_TYPE T3
 ON T.MODEL_TYPE_ID = T3.MODEL_TYPE_ID
 LEFT JOIN MDP_APPTOPIC_TYPE MAT
 ON T.BUSINESS_TYPE = MAT.id
 WHERE 1=1 AND T3.IS_VALID!=-1 ORDER BY T.CREATE_TIME DESC ) TT GROUP BY TT.MODEL_ID, TT.MODEL_NAME, TT.MODEL_TYPE_ID, TT.MODEL_TYPE_ICON, TT.STAGE_ID, TT.STAGE_NAME, TT.STAGE_ICON, TT.CREATE_TIME ORDER BY NEW_TIME DESC

[2019-05-16 16:21:10.973][MDP][614677][MYSQL][]
SHOW STATUS

[2019-05-16 16:21:11.055][MDP][614677][MYSQL][]
SELECT QUERY_ID, SUM(DURATION) AS SUM_DURATION FROM INFORMATION_SCHEMA.PROFILING GROUP BY QUERY_ID

[2019-05-16 16:21:11.12][MDP][614677][MYSQL][]
SELECT STATE AS `Status`, ROUND(SUM(DURATION),7) AS `Duration`, CONCAT(ROUND(SUM(DURATION)/0.003188*100,3), '') AS `Percentage` FROM INFORMATION_SCHEMA.PROFILING WHERE QUERY_ID=19 GROUP BY SEQ, STATE ORDER BY SEQ

[2019-05-16 16:21:20.314][MDP][614833][MYSQL][]
SHOW FULL PROCESSLIST

[2019-05-16 16:55:40.783][MDP][615574][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-16 16:55:41.244][MDP][615575][MYSQL][]
SHOW TABLE STATUS

[2019-05-16 16:55:50.661][MDP][615577][MYSQL][]
SELECT * FROM `mdp`.`ai_quota_tenant_user_binding` LIMIT 0,1000

[2019-05-16 16:55:51.108][MDP][615578][MYSQL][]
SHOW COLUMNS FROM `mdp`.`ai_quota_tenant_user_binding`

[2019-05-16 16:55:51.166][MDP][615577][MYSQL][]
SHOW TABLE STATUS LIKE 'ai_quota_tenant_user_binding'

[2019-05-16 16:55:51.24][MDP][615577][MYSQL][]
SHOW CREATE TABLE `mdp`.`ai_quota_tenant_user_binding`

[2019-05-16 16:56:07.591][MDP][615582][MYSQL][]
SHOW TABLE STATUS LIKE 'ai\_quota\_tenant\_user\_binding'

[2019-05-16 16:56:08.008][MDP][615584][MYSQL][]
SHOW CREATE TABLE `ai_quota_tenant_user_binding` 

[2019-05-16 16:56:08.427][MDP][615585][MYSQL][]
SHOW FULL COLUMNS FROM `ai_quota_tenant_user_binding`

[2019-05-16 16:56:08.877][MDP][615586][MYSQL][]
SHOW INDEX FROM `ai_quota_tenant_user_binding`

[2019-05-16 16:56:09.542][MDP][615587][MYSQL][]
SELECT ACTION_ORDER, EVENT_OBJECT_TABLE, TRIGGER_NAME, EVENT_MANIPULATION, EVENT_OBJECT_TABLE, DEFINER, ACTION_STATEMENT, ACTION_TIMING FROM information_schema.triggers WHERE BINARY event_object_schema = 'mdp' AND BINARY event_object_table = 'ai_quota_tenant_user_binding' ORDER BY event_object_table

[2019-05-16 16:56:10.127][MDP][615588][MYSQL][]
SELECT TABLE_NAME, PARTITION_NAME, SUBPARTITION_NAME, PARTITION_METHOD, SUBPARTITION_METHOD, PARTITION_EXPRESSION, SUBPARTITION_EXPRESSION, PARTITION_DESCRIPTION, PARTITION_COMMENT, NODEGROUP, TABLESPACE_NAME FROM information_schema.PARTITIONS WHERE NOT ISNULL(PARTITION_NAME) AND TABLE_SCHEMA LIKE 'mdp' AND TABLE_NAME LIKE 'ai_quota_tenant_user_binding' ORDER BY TABLE_NAME, PARTITION_NAME, PARTITION_ORDINAL_POSITION, SUBPARTITION_ORDINAL_POSITION

[2019-05-16 16:56:10.533][MDP][615589][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-16 16:56:10.947][MDP][615590][MYSQL][]
SELECT DISTINCT(TABLESPACE_NAME) AS TABLESPACE_NAME FROM information_schema.FILES WHERE NOT ISNULL(TABLESPACE_NAME) LIMIT 10000

[2019-05-16 17:01:34.302][MDP][615663][MYSQL][]
SELECT * FROM `mdp`.`ai_quota_tenant_services` LIMIT 0,1000

[2019-05-16 17:01:34.696][MDP][615664][MYSQL][]
SHOW COLUMNS FROM `mdp`.`ai_quota_tenant_services`

[2019-05-16 17:01:34.761][MDP][615663][MYSQL][]
SHOW TABLE STATUS LIKE 'ai_quota_tenant_services'

[2019-05-16 17:01:34.83][MDP][615663][MYSQL][]
SHOW CREATE TABLE `mdp`.`ai_quota_tenant_services`

[2019-05-16 17:14:46.938][MDP][615841][MYSQL][]
SHOW TABLE STATUS LIKE 'ai\_quota\_tenant\_srv\_platform\_env'

[2019-05-16 17:14:47.078][MDP][615841][MYSQL][]
SHOW CREATE TABLE `ai_quota_tenant_srv_platform_env` 

[2019-05-16 17:14:47.211][MDP][615841][MYSQL][]
SHOW FULL COLUMNS FROM `ai_quota_tenant_srv_platform_env`

[2019-05-16 17:14:47.36][MDP][615841][MYSQL][]
SHOW INDEX FROM `ai_quota_tenant_srv_platform_env`

[2019-05-16 17:14:47.509][MDP][615841][MYSQL][]
SELECT ACTION_ORDER, EVENT_OBJECT_TABLE, TRIGGER_NAME, EVENT_MANIPULATION, EVENT_OBJECT_TABLE, DEFINER, ACTION_STATEMENT, ACTION_TIMING FROM information_schema.triggers WHERE BINARY event_object_schema = 'mdp' AND BINARY event_object_table = 'ai_quota_tenant_srv_platform_env' ORDER BY event_object_table

[2019-05-16 17:14:47.657][MDP][615841][MYSQL][]
SELECT TABLE_NAME, PARTITION_NAME, SUBPARTITION_NAME, PARTITION_METHOD, SUBPARTITION_METHOD, PARTITION_EXPRESSION, SUBPARTITION_EXPRESSION, PARTITION_DESCRIPTION, PARTITION_COMMENT, NODEGROUP, TABLESPACE_NAME FROM information_schema.PARTITIONS WHERE NOT ISNULL(PARTITION_NAME) AND TABLE_SCHEMA LIKE 'mdp' AND TABLE_NAME LIKE 'ai_quota_tenant_srv_platform_env' ORDER BY TABLE_NAME, PARTITION_NAME, PARTITION_ORDINAL_POSITION, SUBPARTITION_ORDINAL_POSITION

[2019-05-16 17:14:47.808][MDP][615841][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-16 17:14:47.986][MDP][615841][MYSQL][]
SELECT DISTINCT(TABLESPACE_NAME) AS TABLESPACE_NAME FROM information_schema.FILES WHERE NOT ISNULL(TABLESPACE_NAME) LIMIT 10000

[2019-05-16 17:14:51.279][MDP][615843][MYSQL][]
SELECT * FROM `mdp`.`ai_quota_tenant_srv_platform_env` LIMIT 0,1000

[2019-05-16 17:14:51.435][MDP][615841][MYSQL][]
SHOW COLUMNS FROM `mdp`.`ai_quota_tenant_srv_platform_env`

[2019-05-16 17:14:51.51][MDP][615843][MYSQL][]
SHOW TABLE STATUS LIKE 'ai_quota_tenant_srv_platform_env'

[2019-05-16 17:14:51.578][MDP][615843][MYSQL][]
SHOW CREATE TABLE `mdp`.`ai_quota_tenant_srv_platform_env`

[2019-05-16 17:22:22.218][MDP][615954][MYSQL][]
SELECT * FROM `mdp`.`ai_quota_tenant` LIMIT 0,1000

[2019-05-16 17:22:22.783][MDP][615955][MYSQL][]
SHOW COLUMNS FROM `mdp`.`ai_quota_tenant`

[2019-05-16 17:22:22.88][MDP][615954][MYSQL][]
SHOW TABLE STATUS LIKE 'ai_quota_tenant'

[2019-05-16 17:22:22.952][MDP][615954][MYSQL][]
SHOW CREATE TABLE `mdp`.`ai_quota_tenant`

[2019-05-16 17:34:10.121][MDP][616086][MYSQL][]
SHOW TABLE STATUS LIKE 'ai\_quota\_tenant\_services'

[2019-05-16 17:34:10.568][MDP][616087][MYSQL][]
SHOW CREATE TABLE `ai_quota_tenant_services` 

[2019-05-16 17:34:10.975][MDP][616088][MYSQL][]
SHOW FULL COLUMNS FROM `ai_quota_tenant_services`

[2019-05-16 17:34:11.533][MDP][616089][MYSQL][]
SHOW INDEX FROM `ai_quota_tenant_services`

[2019-05-16 17:34:11.921][MDP][616090][MYSQL][]
SELECT ACTION_ORDER, EVENT_OBJECT_TABLE, TRIGGER_NAME, EVENT_MANIPULATION, EVENT_OBJECT_TABLE, DEFINER, ACTION_STATEMENT, ACTION_TIMING FROM information_schema.triggers WHERE BINARY event_object_schema = 'mdp' AND BINARY event_object_table = 'ai_quota_tenant_services' ORDER BY event_object_table

[2019-05-16 17:34:12.33][MDP][616091][MYSQL][]
SELECT TABLE_NAME, PARTITION_NAME, SUBPARTITION_NAME, PARTITION_METHOD, SUBPARTITION_METHOD, PARTITION_EXPRESSION, SUBPARTITION_EXPRESSION, PARTITION_DESCRIPTION, PARTITION_COMMENT, NODEGROUP, TABLESPACE_NAME FROM information_schema.PARTITIONS WHERE NOT ISNULL(PARTITION_NAME) AND TABLE_SCHEMA LIKE 'mdp' AND TABLE_NAME LIKE 'ai_quota_tenant_services' ORDER BY TABLE_NAME, PARTITION_NAME, PARTITION_ORDINAL_POSITION, SUBPARTITION_ORDINAL_POSITION

[2019-05-16 17:34:12.719][MDP][616092][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-16 17:34:13.196][MDP][616093][MYSQL][]
SELECT DISTINCT(TABLESPACE_NAME) AS TABLESPACE_NAME FROM information_schema.FILES WHERE NOT ISNULL(TABLESPACE_NAME) LIMIT 10000

[2019-05-16 17:35:23.894][MDP][616108][MYSQL][]
SELECT * FROM `mdp`.`ai_open_service` LIMIT 0,1000

[2019-05-16 17:35:24.32][MDP][616109][MYSQL][]
SHOW COLUMNS FROM `mdp`.`ai_open_service`

[2019-05-16 17:35:24.388][MDP][616108][MYSQL][]
SHOW TABLE STATUS LIKE 'ai_open_service'

[2019-05-16 17:35:24.448][MDP][616108][MYSQL][]
SHOW CREATE TABLE `mdp`.`ai_open_service`

[2019-05-16 17:39:08.024][MDP][616156][MYSQL][]
SELECT COUNT(*) FROM information_schema.TABLES WHERE TABLE_SCHEMA = 'mdp' UNION SELECT COUNT(*) FROM information_schema.COLUMNS WHERE TABLE_SCHEMA = 'mdp' UNION SELECT COUNT(*) FROM information_schema.ROUTINES WHERE ROUTINE_SCHEMA = 'mdp'

[2019-05-16 17:39:08.381][MDP][616157][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-16 17:39:08.502][MDP][616156][MYSQL][]
SELECT TABLE_NAME, CHECK_OPTION, IS_UPDATABLE, SECURITY_TYPE, DEFINER FROM INFORMATION_SCHEMA.VIEWS WHERE TABLE_SCHEMA = 'mdp' ORDER BY TABLE_NAME ASC

[2019-05-16 17:39:17.703][MDP][616156][MYSQL][]
SET PROFILING = 1

[2019-05-16 17:39:17.763][MDP][616156][MYSQL][]
SHOW STATUS

[2019-05-16 17:39:17.836][MDP][616156][MYSQL][]
SHOW STATUS

[2019-05-16 17:39:17.929][MDP][616156][MYSQL][]
select if(service_url is null or trim(service_url) = '', service_addr, service_url)
        from ai_quota_tenant_services
        where quota_tenant_id = ''
          and lower(service_id) = 'notebook'
          and engine = ''

[2019-05-16 17:39:17.991][MDP][616156][MYSQL][]
SHOW STATUS

[2019-05-16 17:39:18.075][MDP][616156][MYSQL][]
SELECT QUERY_ID, SUM(DURATION) AS SUM_DURATION FROM INFORMATION_SCHEMA.PROFILING GROUP BY QUERY_ID

[2019-05-16 17:39:18.142][MDP][616156][MYSQL][]
SELECT STATE AS `Status`, ROUND(SUM(DURATION),7) AS `Duration`, CONCAT(ROUND(SUM(DURATION)/0.001765*100,3), '') AS `Percentage` FROM INFORMATION_SCHEMA.PROFILING WHERE QUERY_ID=2 GROUP BY SEQ, STATE ORDER BY SEQ

[2019-05-16 17:39:27.004][MDP][616156][MYSQL][]
SET PROFILING = 1

[2019-05-16 17:39:27.089][MDP][616156][MYSQL][]
SHOW STATUS

[2019-05-16 17:39:27.168][MDP][616156][MYSQL][]
SHOW STATUS

[2019-05-16 17:39:27.249][MDP][616156][MYSQL][]
select if(service_url is null or trim(service_url) = '', service_addr, service_url) as url
        from ai_quota_tenant_services
        where quota_tenant_id = ''
          and lower(service_id) = 'notebook'
          and engine = ''

[2019-05-16 17:39:27.311][MDP][616156][MYSQL][]
SHOW STATUS

[2019-05-16 17:39:27.379][MDP][616156][MYSQL][]
SELECT QUERY_ID, SUM(DURATION) AS SUM_DURATION FROM INFORMATION_SCHEMA.PROFILING GROUP BY QUERY_ID

[2019-05-16 17:39:27.455][MDP][616156][MYSQL][]
SELECT STATE AS `Status`, ROUND(SUM(DURATION),7) AS `Duration`, CONCAT(ROUND(SUM(DURATION)/0.001765*100,3), '') AS `Percentage` FROM INFORMATION_SCHEMA.PROFILING WHERE QUERY_ID=2 GROUP BY SEQ, STATE ORDER BY SEQ

[2019-05-16 17:40:02.77][MDP][616157][MYSQL][]
SELECT * FROM `mdp`.`ai_user` LIMIT 0,1000

[2019-05-16 17:40:03.111][MDP][616167][MYSQL][]
SHOW COLUMNS FROM `mdp`.`ai_user`

[2019-05-16 17:40:03.168][MDP][616157][MYSQL][]
SHOW TABLE STATUS LIKE 'ai_user'

[2019-05-16 17:40:03.224][MDP][616157][MYSQL][]
SHOW CREATE TABLE `mdp`.`ai_user`

[2019-05-16 17:40:40.97][MDP][616157][MYSQL][]
INSERT INTO `mdp`.`ai_quota_tenant_services`(`QUOTA_TENANT_ID`, `SERVICE_ID`, `ENGINE`, `RES_QUOTA`, `DEPLOY_INFO`) VALUES ('default_default', 'notebook', 'CPU', '{}', '{}')

[2019-05-16 17:40:41.042][MDP][616157][MYSQL][]
SELECT * FROM `mdp`.`ai_quota_tenant_services` WHERE `QUOTA_TENANT_ID` = 'default_default' AND `SERVICE_ID` = 'notebook' AND `ENGINE` = 'CPU'

[2019-05-16 17:41:05.449][MDP][616157][MYSQL][]
UPDATE `mdp`.`ai_quota_tenant_services` SET `SERVICE_ADDR` = '10.131.6.101:9197' WHERE `QUOTA_TENANT_ID` = 'default_default' AND `SERVICE_ID` = 'notebook' AND `ENGINE` = 'CPU'

[2019-05-16 17:41:05.51][MDP][616157][MYSQL][]
SELECT * FROM `mdp`.`ai_quota_tenant_services` WHERE `QUOTA_TENANT_ID` = 'default_default' AND `SERVICE_ID` = 'notebook' AND `ENGINE` = 'CPU'

[2019-05-16 17:41:16.692][MDP][616157][MYSQL][]
UPDATE `mdp`.`ai_quota_tenant_services` SET `UPDATE_BY` = 'ADMIN' WHERE `QUOTA_TENANT_ID` = 'default_default' AND `SERVICE_ID` = 'notebook' AND `ENGINE` = 'CPU'

[2019-05-16 17:41:16.751][MDP][616157][MYSQL][]
SELECT * FROM `mdp`.`ai_quota_tenant_services` WHERE `QUOTA_TENANT_ID` = 'default_default' AND `SERVICE_ID` = 'notebook' AND `ENGINE` = 'CPU'

[2019-05-16 17:41:21.137][MDP][616156][MYSQL][]
SET PROFILING = 1

[2019-05-16 17:41:21.201][MDP][616156][MYSQL][]
SHOW STATUS

[2019-05-16 17:41:21.302][MDP][616156][MYSQL][]
SHOW STATUS

[2019-05-16 17:41:21.387][MDP][616156][MYSQL][]
select if(service_url is null or trim(service_url) = '', service_addr, service_url) as url
        from ai_quota_tenant_services
        where quota_tenant_id = ''
          and lower(service_id) = 'notebook'
          and engine = ''

[2019-05-16 17:41:21.454][MDP][616156][MYSQL][]
SHOW STATUS

[2019-05-16 17:41:21.535][MDP][616156][MYSQL][]
SELECT QUERY_ID, SUM(DURATION) AS SUM_DURATION FROM INFORMATION_SCHEMA.PROFILING GROUP BY QUERY_ID

[2019-05-16 17:41:21.624][MDP][616156][MYSQL][]
SELECT STATE AS `Status`, ROUND(SUM(DURATION),7) AS `Duration`, CONCAT(ROUND(SUM(DURATION)/0.001071*100,3), '') AS `Percentage` FROM INFORMATION_SCHEMA.PROFILING WHERE QUERY_ID=5 GROUP BY SEQ, STATE ORDER BY SEQ

[2019-05-16 17:41:27.315][MDP][616156][MYSQL][]
SET PROFILING = 1

[2019-05-16 17:41:27.382][MDP][616156][MYSQL][]
SHOW STATUS

[2019-05-16 17:41:27.453][MDP][616156][MYSQL][]
SHOW STATUS

[2019-05-16 17:41:27.525][MDP][616156][MYSQL][]
select if(service_url is null or trim(service_url) = '', service_addr, service_url) as url
        from ai_quota_tenant_services
        where quota_tenant_id = ''
          and lower(service_id) = 'notebook'
          and engine = 'CPU'

[2019-05-16 17:41:27.594][MDP][616156][MYSQL][]
SHOW STATUS

[2019-05-16 17:41:27.674][MDP][616156][MYSQL][]
SELECT QUERY_ID, SUM(DURATION) AS SUM_DURATION FROM INFORMATION_SCHEMA.PROFILING GROUP BY QUERY_ID

[2019-05-16 17:41:27.738][MDP][616156][MYSQL][]
SELECT STATE AS `Status`, ROUND(SUM(DURATION),7) AS `Duration`, CONCAT(ROUND(SUM(DURATION)/0.002292*100,3), '') AS `Percentage` FROM INFORMATION_SCHEMA.PROFILING WHERE QUERY_ID=12 GROUP BY SEQ, STATE ORDER BY SEQ

[2019-05-16 17:41:38.51][MDP][616156][MYSQL][]
SET PROFILING = 1

[2019-05-16 17:41:38.593][MDP][616156][MYSQL][]
SHOW STATUS

[2019-05-16 17:41:38.676][MDP][616156][MYSQL][]
SHOW STATUS

[2019-05-16 17:41:38.78][MDP][616156][MYSQL][]
select if(service_url is null or trim(service_url) = '', service_addr, service_url) as url
        from ai_quota_tenant_services
        where quota_tenant_id = ''
          and lower(service_id) = 'notebook'
          and lower(engine) = 'cpu'

[2019-05-16 17:41:38.847][MDP][616156][MYSQL][]
SHOW STATUS

[2019-05-16 17:41:38.919][MDP][616156][MYSQL][]
SELECT QUERY_ID, SUM(DURATION) AS SUM_DURATION FROM INFORMATION_SCHEMA.PROFILING GROUP BY QUERY_ID

[2019-05-16 17:41:38.999][MDP][616156][MYSQL][]
SELECT STATE AS `Status`, ROUND(SUM(DURATION),7) AS `Duration`, CONCAT(ROUND(SUM(DURATION)/0.002612*100,3), '') AS `Percentage` FROM INFORMATION_SCHEMA.PROFILING WHERE QUERY_ID=19 GROUP BY SEQ, STATE ORDER BY SEQ

[2019-05-16 17:41:54.664][MDP][616156][MYSQL][]
SET PROFILING = 1

[2019-05-16 17:41:54.741][MDP][616156][MYSQL][]
SHOW STATUS

[2019-05-16 17:41:54.843][MDP][616156][MYSQL][]
SHOW STATUS

[2019-05-16 17:41:54.934][MDP][616156][MYSQL][]
select if(service_url is null or trim(service_url) = '', service_addr, service_url) as url
        from ai_quota_tenant_services
        where quota_tenant_id = 'default_default'
          and lower(service_id) = 'notebook'
          and lower(engine) = 'cpu'

[2019-05-16 17:41:54.999][MDP][616156][MYSQL][]
SHOW STATUS

[2019-05-16 17:41:55.079][MDP][616156][MYSQL][]
SELECT QUERY_ID, SUM(DURATION) AS SUM_DURATION FROM INFORMATION_SCHEMA.PROFILING GROUP BY QUERY_ID

[2019-05-16 17:41:55.164][MDP][616156][MYSQL][]
SELECT STATE AS `Status`, ROUND(SUM(DURATION),7) AS `Duration`, CONCAT(ROUND(SUM(DURATION)/0.002101*100,3), '') AS `Percentage` FROM INFORMATION_SCHEMA.PROFILING WHERE QUERY_ID=26 GROUP BY SEQ, STATE ORDER BY SEQ

[2019-05-16 17:42:19.652][MDP][616157][MYSQL][]
INSERT INTO `mdp`.`ai_quota_tenant_services`(`QUOTA_TENANT_ID`, `SERVICE_ID`, `ENGINE`, `RES_QUOTA`, `DEPLOY_INFO`) VALUES ('default_default', 'notebook', 'GPU', '{}', '{}')

[2019-05-16 17:42:19.706][MDP][616157][MYSQL][]
SELECT * FROM `mdp`.`ai_quota_tenant_services` WHERE `QUOTA_TENANT_ID` = 'default_default' AND `SERVICE_ID` = 'notebook' AND `ENGINE` = 'GPU'

[2019-05-16 17:42:24.068][MDP][616157][MYSQL][]
UPDATE `mdp`.`ai_quota_tenant_services` SET `SERVICE_ADDR` = '10.131.6.101:9197' WHERE `QUOTA_TENANT_ID` = 'default_default' AND `SERVICE_ID` = 'notebook' AND `ENGINE` = 'GPU'

[2019-05-16 17:42:24.128][MDP][616157][MYSQL][]
SELECT * FROM `mdp`.`ai_quota_tenant_services` WHERE `QUOTA_TENANT_ID` = 'default_default' AND `SERVICE_ID` = 'notebook' AND `ENGINE` = 'GPU'

[2019-05-16 17:42:28.215][MDP][616157][MYSQL][]
INSERT INTO `mdp`.`ai_quota_tenant_services`() VALUES ()

[2019-05-16 17:42:28.277][MDP][616157][MYSQL][]
SELECT * FROM `mdp`.`ai_quota_tenant_services` WHERE `QUOTA_TENANT_ID` IS NULL AND `SERVICE_ID` IS NULL AND `ENGINE` = 'default'

[2019-05-16 17:42:40.285][MDP][616157][MYSQL][]
UPDATE `mdp`.`ai_quota_tenant_services` SET `QUOTA_TENANT_ID` = 'default_default', `SERVICE_ID` = 'notebook', `ENGINE` = 'SPARK', `RES_QUOTA` = '{}', `DEPLOY_INFO` = '{}' WHERE `QUOTA_TENANT_ID` IS NULL AND `SERVICE_ID` IS NULL AND `ENGINE` = 'default'

[2019-05-16 17:42:40.342][MDP][616157][MYSQL][]
SELECT * FROM `mdp`.`ai_quota_tenant_services` WHERE `QUOTA_TENANT_ID` = 'default_default' AND `SERVICE_ID` = 'notebook' AND `ENGINE` = 'SPARK'

[2019-05-16 17:42:43.591][MDP][616157][MYSQL][]
UPDATE `mdp`.`ai_quota_tenant_services` SET `SERVICE_ADDR` = '10.131.6.101:9197' WHERE `QUOTA_TENANT_ID` = 'default_default' AND `SERVICE_ID` = 'notebook' AND `ENGINE` = 'SPARK'

[2019-05-16 17:42:43.648][MDP][616157][MYSQL][]
SELECT * FROM `mdp`.`ai_quota_tenant_services` WHERE `QUOTA_TENANT_ID` = 'default_default' AND `SERVICE_ID` = 'notebook' AND `ENGINE` = 'SPARK'

[2019-05-16 17:42:48.326][MDP][616157][MYSQL][]
UPDATE `mdp`.`ai_quota_tenant_services` SET `UPDATE_BY` = 'ADMIN' WHERE `QUOTA_TENANT_ID` = 'default_default' AND `SERVICE_ID` = 'notebook' AND `ENGINE` = 'SPARK'

[2019-05-16 17:42:48.407][MDP][616157][MYSQL][]
SELECT * FROM `mdp`.`ai_quota_tenant_services` WHERE `QUOTA_TENANT_ID` = 'default_default' AND `SERVICE_ID` = 'notebook' AND `ENGINE` = 'SPARK'

[2019-05-16 17:42:52.207][MDP][616157][MYSQL][]
UPDATE `mdp`.`ai_quota_tenant_services` SET `UPDATE_TIME` = '2019-05-16 17:42:19' WHERE `QUOTA_TENANT_ID` = 'default_default' AND `SERVICE_ID` = 'notebook' AND `ENGINE` = 'SPARK'

[2019-05-16 17:42:52.265][MDP][616157][MYSQL][]
SELECT * FROM `mdp`.`ai_quota_tenant_services` WHERE `QUOTA_TENANT_ID` = 'default_default' AND `SERVICE_ID` = 'notebook' AND `ENGINE` = 'SPARK'

[2019-05-16 17:42:56.645][MDP][616157][MYSQL][]
UPDATE `mdp`.`ai_quota_tenant_services` SET `SERVICE_ADDR` = '10.131.6.103:9197' WHERE `QUOTA_TENANT_ID` = 'default_default' AND `SERVICE_ID` = 'notebook' AND `ENGINE` = 'SPARK'

[2019-05-16 17:42:56.742][MDP][616157][MYSQL][]
SELECT * FROM `mdp`.`ai_quota_tenant_services` WHERE `QUOTA_TENANT_ID` = 'default_default' AND `SERVICE_ID` = 'notebook' AND `ENGINE` = 'SPARK'

[2019-05-16 17:45:18.233][MDP][616157][MYSQL][]
UPDATE `mdp`.`ai_quota_tenant_services` SET `ENGINE` = '1' WHERE `QUOTA_TENANT_ID` = 'default_default' AND `SERVICE_ID` = 'notebook' AND `ENGINE` = 'CPU'

[2019-05-16 17:45:18.29][MDP][616157][MYSQL][]
SELECT * FROM `mdp`.`ai_quota_tenant_services` WHERE `QUOTA_TENANT_ID` = 'default_default' AND `SERVICE_ID` = 'notebook' AND `ENGINE` = '1'

[2019-05-16 17:45:19.678][MDP][616157][MYSQL][]
UPDATE `mdp`.`ai_quota_tenant_services` SET `ENGINE` = '2' WHERE `QUOTA_TENANT_ID` = 'default_default' AND `SERVICE_ID` = 'notebook' AND `ENGINE` = 'SPARK'

[2019-05-16 17:45:19.77][MDP][616157][MYSQL][]
SELECT * FROM `mdp`.`ai_quota_tenant_services` WHERE `QUOTA_TENANT_ID` = 'default_default' AND `SERVICE_ID` = 'notebook' AND `ENGINE` = '2'

[2019-05-16 17:45:20.679][MDP][616157][MYSQL][]
UPDATE `mdp`.`ai_quota_tenant_services` SET `ENGINE` = '3' WHERE `QUOTA_TENANT_ID` = 'default_default' AND `SERVICE_ID` = 'notebook' AND `ENGINE` = 'GPU'

[2019-05-16 17:45:20.751][MDP][616157][MYSQL][]
SELECT * FROM `mdp`.`ai_quota_tenant_services` WHERE `QUOTA_TENANT_ID` = 'default_default' AND `SERVICE_ID` = 'notebook' AND `ENGINE` = '3'

[2019-05-16 17:48:44.963][MDP][616156][MYSQL][]
SET PROFILING = 1

[2019-05-16 17:48:45.029][MDP][616156][MYSQL][]
SHOW STATUS

[2019-05-16 17:48:45.134][MDP][616156][MYSQL][]
SHOW STATUS

[2019-05-16 17:48:45.244][MDP][616156][MYSQL][]
select if(service_url is null or trim(service_url) = '', service_addr, service_url) as url
        from ai_quota_tenant_services
        where quota_tenant_id = 'default_default'
          and lower(service_id) = 'notebook'
          and lower(engine) = '1'

[2019-05-16 17:48:45.315][MDP][616156][MYSQL][]
SHOW STATUS

[2019-05-16 17:48:45.381][MDP][616156][MYSQL][]
SELECT QUERY_ID, SUM(DURATION) AS SUM_DURATION FROM INFORMATION_SCHEMA.PROFILING GROUP BY QUERY_ID

[2019-05-16 17:48:45.44][MDP][616156][MYSQL][]
SELECT STATE AS `Status`, ROUND(SUM(DURATION),7) AS `Duration`, CONCAT(ROUND(SUM(DURATION)/0.002243*100,3), '') AS `Percentage` FROM INFORMATION_SCHEMA.PROFILING WHERE QUERY_ID=33 GROUP BY SEQ, STATE ORDER BY SEQ

[2019-05-16 18:11:26.267][MDP][616157][MYSQL][]
SELECT * FROM `mdp`.`ai_open_service` LIMIT 0,1000

[2019-05-16 18:11:26.388][MDP][616167][MYSQL][]
SHOW COLUMNS FROM `mdp`.`ai_open_service`

[2019-05-16 18:11:26.444][MDP][616157][MYSQL][]
SHOW TABLE STATUS LIKE 'ai_open_service'

[2019-05-16 18:11:26.498][MDP][616157][MYSQL][]
SHOW CREATE TABLE `mdp`.`ai_open_service`

[2019-05-16 18:11:45.584][MDP][616157][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2019-05-16 18:11:45.698][MDP][616157][MYSQL][]
SHOW TABLE STATUS

[2019-05-16 18:11:45.787][MDP][616167][MYSQL][]
SELECT * FROM `mdp210`.`ai_open_service` LIMIT 0,1000

[2019-05-16 18:11:46.197][MDP][616545][MYSQL][]
SHOW COLUMNS FROM `mdp210`.`ai_open_service`

[2019-05-16 18:11:46.255][MDP][616167][MYSQL][]
SHOW TABLE STATUS LIKE 'ai_open_service'

[2019-05-16 18:11:46.31][MDP][616167][MYSQL][]
SHOW CREATE TABLE `mdp210`.`ai_open_service`

