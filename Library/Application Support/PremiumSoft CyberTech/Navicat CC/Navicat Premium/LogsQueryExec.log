[2018-10-16 12:35:28.933][MDP][976481][MYSQL][]
SHOW VARIABLES LIKE 'lower_case_%'

[2018-10-16 12:35:29.003][MDP][976481][MYSQL][]
SELECT SCHEMA_NAME, DEFAULT_CHARACTER_SET_NAME, DEFAULT_COLLATION_NAME FROM information_schema.SCHEMATA

[2018-10-16 12:35:31.546][MDP][976481][MYSQL][]
SELECT COUNT(*) FROM information_schema.TABLES WHERE TABLE_SCHEMA = 'mdp' UNION SELECT COUNT(*) FROM information_schema.COLUMNS WHERE TABLE_SCHEMA = 'mdp' UNION SELECT COUNT(*) FROM information_schema.ROUTINES WHERE ROUTINE_SCHEMA = 'mdp'

[2018-10-16 12:35:31.627][MDP][976481][MYSQL][]
SELECT TABLE_SCHEMA, TABLE_NAME, TABLE_TYPE FROM information_schema.TABLES WHERE TABLE_SCHEMA = 'mdp' ORDER BY TABLE_SCHEMA, TABLE_TYPE

[2018-10-16 12:35:31.705][MDP][976481][MYSQL][]
SELECT TABLE_SCHEMA, TABLE_NAME, COLUMN_NAME, COLUMN_TYPE FROM information_schema.COLUMNS WHERE TABLE_SCHEMA = 'mdp' ORDER BY TABLE_SCHEMA, TABLE_NAME

[2018-10-16 12:35:31.884][MDP][976484][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2018-10-16 12:35:31.902][MDP][976481][MYSQL][]
SELECT DISTINCT ROUTINE_SCHEMA, ROUTINE_NAME, PARAMS.PARAMETER FROM information_schema.ROUTINES LEFT JOIN ( SELECT SPECIFIC_SCHEMA, SPECIFIC_NAME, GROUP_CONCAT(CONCAT(DATA_TYPE, ' ', PARAMETER_NAME) ORDER BY ORDINAL_POSITION SEPARATOR ', ') PARAMETER, ROUTINE_TYPE FROM information_schema.PARAMETERS GROUP BY SPECIFIC_SCHEMA, SPECIFIC_NAME, ROUTINE_TYPE ) PARAMS ON ROUTINES.ROUTINE_SCHEMA = PARAMS.SPECIFIC_SCHEMA AND ROUTINES.ROUTINE_NAME = PARAMS.SPECIFIC_NAME AND ROUTINES.ROUTINE_TYPE = PARAMS.ROUTINE_TYPE WHERE ROUTINE_SCHEMA = 'mdp' ORDER BY ROUTINE_SCHEMA

[2018-10-16 12:35:32.013][MDP][976484][MYSQL][]
SHOW TABLE STATUS

[2018-10-16 12:35:32.303][MDP][976481][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2018-10-16 12:35:32.439][MDP][976481][MYSQL][]
SHOW TABLE STATUS

[2018-10-16 12:35:38.451][MDP][976481][MYSQL][]
SELECT * FROM `mdp`.`mdp_tenant_instance` LIMIT 0,1000

[2018-10-16 12:35:38.585][MDP][976484][MYSQL][]
SHOW COLUMNS FROM `mdp`.`mdp_tenant_instance`

[2018-10-16 12:35:38.657][MDP][976481][MYSQL][]
SHOW TABLE STATUS LIKE 'mdp_tenant_instance'

[2018-10-16 12:35:38.733][MDP][976481][MYSQL][]
SHOW CREATE TABLE `mdp`.`mdp_tenant_instance`

[2018-10-16 12:35:43.212][MDP][976481][MYSQL][]
SHOW TABLE STATUS LIKE 'mdp_tenant_instance'

[2018-10-16 12:35:43.349][MDP][976481][MYSQL][]
SHOW CREATE TABLE `mdp_tenant_instance` 

[2018-10-16 12:35:43.495][MDP][976481][MYSQL][]
SHOW FULL COLUMNS FROM `mdp_tenant_instance`

[2018-10-16 12:35:43.695][MDP][976481][MYSQL][]
SHOW INDEX FROM `mdp_tenant_instance`

[2018-10-16 12:35:43.842][MDP][976481][MYSQL][]
SELECT ACTION_ORDER, EVENT_OBJECT_TABLE, TRIGGER_NAME, EVENT_MANIPULATION, EVENT_OBJECT_TABLE, DEFINER, ACTION_STATEMENT, ACTION_TIMING FROM information_schema.triggers WHERE BINARY event_object_schema = 'mdp' AND BINARY event_object_table = 'mdp_tenant_instance' ORDER BY event_object_table

[2018-10-16 12:35:44.052][MDP][976481][MYSQL][]
SELECT TABLE_NAME, PARTITION_NAME, SUBPARTITION_NAME, PARTITION_METHOD, SUBPARTITION_METHOD, PARTITION_EXPRESSION, SUBPARTITION_EXPRESSION, PARTITION_DESCRIPTION, PARTITION_COMMENT, NODEGROUP, TABLESPACE_NAME FROM information_schema.PARTITIONS WHERE NOT ISNULL(PARTITION_NAME) AND TABLE_SCHEMA LIKE 'mdp' AND TABLE_NAME LIKE 'mdp_tenant_instance' ORDER BY TABLE_NAME, PARTITION_NAME, PARTITION_ORDINAL_POSITION, SUBPARTITION_ORDINAL_POSITION

[2018-10-16 12:35:44.26][MDP][976481][MYSQL][]
SHOW CHARACTER SET

[2018-10-16 12:35:44.43][MDP][976481][MYSQL][]
SHOW ENGINES

[2018-10-16 12:35:44.562][MDP][976481][MYSQL][]
SHOW TABLE STATUS

[2018-10-16 12:35:44.827][MDP][976481][MYSQL][]
SELECT DISTINCT(TABLESPACE_NAME) AS TABLESPACE_NAME FROM information_schema.FILES WHERE NOT ISNULL(TABLESPACE_NAME) LIMIT 10000

[2018-10-16 12:35:45.072][MDP][976481][MYSQL][]
SHOW CHARACTER SET

[2018-10-16 12:35:45.266][MDP][976481][MYSQL][]
SHOW COLLATION

[2018-10-16 12:36:46.317][MDP][976481][MYSQL][]
ALTER TABLE `mdp`.`mdp_tenant_instance` 
DROP COLUMN `mdpserver_route`,
DROP COLUMN `mdpserver_svc`,
DROP COLUMN `miner_route`,
DROP COLUMN `miner_svc`,
DROP COLUMN `notebook_route`,
DROP COLUMN `notebook_svc`,
DROP COLUMN `ui_route`,
DROP COLUMN `ui_svc`,
MODIFY COLUMN `service_id` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '服务编码' FIRST,
MODIFY COLUMN `plan_id` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '服务计划编码' AFTER `service_id`,
MODIFY COLUMN `instance_id` varchar(64) CHARACTER SET utf8 COLLATE utf8_general_ci NULL DEFAULT NULL COMMENT '租户应用实例编码' AFTER `plan_id`

[2018-10-16 12:36:46.457][MDP][976481][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2018-10-16 12:36:46.592][MDP][976481][MYSQL][]
SHOW TABLE STATUS LIKE 'mdp_tenant_instance'

[2018-10-16 12:36:46.745][MDP][976481][MYSQL][]
SHOW CREATE TABLE `mdp_tenant_instance` 

[2018-10-16 12:36:46.896][MDP][976481][MYSQL][]
SHOW FULL COLUMNS FROM `mdp_tenant_instance`

[2018-10-16 12:36:47.245][MDP][976481][MYSQL][]
SHOW INDEX FROM `mdp_tenant_instance`

[2018-10-16 12:36:47.62][MDP][976481][MYSQL][]
SELECT ACTION_ORDER, EVENT_OBJECT_TABLE, TRIGGER_NAME, EVENT_MANIPULATION, EVENT_OBJECT_TABLE, DEFINER, ACTION_STATEMENT, ACTION_TIMING FROM information_schema.triggers WHERE BINARY event_object_schema = 'mdp' AND BINARY event_object_table = 'mdp_tenant_instance' ORDER BY event_object_table

[2018-10-16 12:36:47.783][MDP][976481][MYSQL][]
SELECT TABLE_NAME, PARTITION_NAME, SUBPARTITION_NAME, PARTITION_METHOD, SUBPARTITION_METHOD, PARTITION_EXPRESSION, SUBPARTITION_EXPRESSION, PARTITION_DESCRIPTION, PARTITION_COMMENT, NODEGROUP, TABLESPACE_NAME FROM information_schema.PARTITIONS WHERE NOT ISNULL(PARTITION_NAME) AND TABLE_SCHEMA LIKE 'mdp' AND TABLE_NAME LIKE 'mdp_tenant_instance' ORDER BY TABLE_NAME, PARTITION_NAME, PARTITION_ORDINAL_POSITION, SUBPARTITION_ORDINAL_POSITION

[2018-10-16 12:36:47.943][MDP][976481][MYSQL][]
SELECT DISTINCT(TABLESPACE_NAME) AS TABLESPACE_NAME FROM information_schema.FILES WHERE NOT ISNULL(TABLESPACE_NAME) LIMIT 10000

[2018-10-16 12:36:49.247][MDP][976481][MYSQL][]
SHOW FULL TABLES WHERE Table_type != 'VIEW'

[2018-10-16 12:36:49.394][MDP][976481][MYSQL][]
SHOW TABLE STATUS LIKE 'mdp_tenant_instance'

[2018-10-16 12:36:49.555][MDP][976481][MYSQL][]
SHOW CREATE TABLE `mdp_tenant_instance` 

[2018-10-16 12:36:49.81][MDP][976481][MYSQL][]
SHOW FULL COLUMNS FROM `mdp_tenant_instance`

[2018-10-16 12:36:50.224][MDP][976481][MYSQL][]
SHOW INDEX FROM `mdp_tenant_instance`

[2018-10-16 12:36:50.531][MDP][976481][MYSQL][]
SELECT ACTION_ORDER, EVENT_OBJECT_TABLE, TRIGGER_NAME, EVENT_MANIPULATION, EVENT_OBJECT_TABLE, DEFINER, ACTION_STATEMENT, ACTION_TIMING FROM information_schema.triggers WHERE BINARY event_object_schema = 'mdp' AND BINARY event_object_table = 'mdp_tenant_instance' ORDER BY event_object_table

[2018-10-16 12:36:50.67][MDP][976481][MYSQL][]
SELECT TABLE_NAME, PARTITION_NAME, SUBPARTITION_NAME, PARTITION_METHOD, SUBPARTITION_METHOD, PARTITION_EXPRESSION, SUBPARTITION_EXPRESSION, PARTITION_DESCRIPTION, PARTITION_COMMENT, NODEGROUP, TABLESPACE_NAME FROM information_schema.PARTITIONS WHERE NOT ISNULL(PARTITION_NAME) AND TABLE_SCHEMA LIKE 'mdp' AND TABLE_NAME LIKE 'mdp_tenant_instance' ORDER BY TABLE_NAME, PARTITION_NAME, PARTITION_ORDINAL_POSITION, SUBPARTITION_ORDINAL_POSITION

[2018-10-16 12:36:50.826][MDP][976481][MYSQL][]
SELECT DISTINCT(TABLESPACE_NAME) AS TABLESPACE_NAME FROM information_schema.FILES WHERE NOT ISNULL(TABLESPACE_NAME) LIMIT 10000

[2018-10-16 15:19:10.624][MDP][976481][MYSQL][]
SELECT COUNT(*) FROM information_schema.TABLES WHERE TABLE_SCHEMA = 'mdp' UNION SELECT COUNT(*) FROM information_schema.COLUMNS WHERE TABLE_SCHEMA = 'mdp' UNION SELECT COUNT(*) FROM information_schema.ROUTINES WHERE ROUTINE_SCHEMA = 'mdp'

[2018-10-16 15:19:10.984][MDP][984217][MYSQL][]
SHOW VARIABLES LIKE 'lower_case_%'

[2018-10-16 15:19:46.173][MDP][984242][MYSQL][]
SHOW TABLE STATUS

[2018-10-16 15:19:46.486][MDP][984242][MYSQL][]
SELECT TABLE_NAME, CHECK_OPTION, IS_UPDATABLE, SECURITY_TYPE, DEFINER FROM INFORMATION_SCHEMA.VIEWS WHERE TABLE_SCHEMA = 'mdp' ORDER BY TABLE_NAME ASC

[2018-10-16 15:20:31.238][MDP][984242][MYSQL][]
SET PROFILING = 1

[2018-10-16 15:20:31.74][MDP][984242][MYSQL][]
SHOW STATUS

[2018-10-16 15:20:31.879][MDP][984242][MYSQL][]
SHOW STATUS

[2018-10-16 15:20:32.032][MDP][984242][MYSQL][]
select * from mdp_tenant_instance

[2018-10-16 15:20:32.237][MDP][984242][MYSQL][]
SHOW STATUS

[2018-10-16 15:20:32.365][MDP][984242][MYSQL][]
SELECT QUERY_ID, SUM(DURATION) AS SUM_DURATION FROM INFORMATION_SCHEMA.PROFILING GROUP BY QUERY_ID

[2018-10-16 15:20:32.479][MDP][984242][MYSQL][]
SELECT STATE AS `Status`, ROUND(SUM(DURATION),7) AS `Duration`, CONCAT(ROUND(SUM(DURATION)/0.001168*100,3), '') AS `Percentage` FROM INFORMATION_SCHEMA.PROFILING WHERE QUERY_ID=2 GROUP BY SEQ, STATE ORDER BY SEQ

[2018-10-16 15:20:33.27][MDP][984242][MYSQL][]
SET PROFILING = 1

[2018-10-16 15:20:33.362][MDP][984242][MYSQL][]
SHOW STATUS

[2018-10-16 15:20:33.434][MDP][984242][MYSQL][]
SHOW STATUS

[2018-10-16 15:20:33.512][MDP][984242][MYSQL][]
select * from mdp_tenant_instance

[2018-10-16 15:20:33.719][MDP][984242][MYSQL][]
SHOW STATUS

[2018-10-16 15:20:33.892][MDP][984242][MYSQL][]
SELECT QUERY_ID, SUM(DURATION) AS SUM_DURATION FROM INFORMATION_SCHEMA.PROFILING GROUP BY QUERY_ID

[2018-10-16 15:20:33.963][MDP][984242][MYSQL][]
SELECT STATE AS `Status`, ROUND(SUM(DURATION),7) AS `Duration`, CONCAT(ROUND(SUM(DURATION)/0.001168*100,3), '') AS `Percentage` FROM INFORMATION_SCHEMA.PROFILING WHERE QUERY_ID=2 GROUP BY SEQ, STATE ORDER BY SEQ

